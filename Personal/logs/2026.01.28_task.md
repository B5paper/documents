* [O] CUDA Core Compute Libraries (CCCL)

    <https://github.com/nvidia/cccl>

    feedback:

    1. This repository unifies three essential CUDA C++ libraries into a single, convenient repository:

        Thrust (former repo)
        CUB (former repo)
        libcudacxx (former repo)

    2. 这个库后续有兴趣了再调研，感觉目前使用 cupy 已经够用了

* [v] `optim.SGD([train_param], lr=1e-3)`

    feedback:

    * [ ] `torch.allclose`

    * [ ] 关键阈值：秩（Rank）

        矩阵的秩决定了信息保留的程度：

        ```py
        import torch
        import numpy as np

        def analyze_layer(W):
            """分析权重矩阵的信息传递能力"""
            rank = torch.linalg.matrix_rank(W).item()
            full_rank = min(W.shape)
            rank_ratio = rank / full_rank
            
            # 奇异值分解（SVD）
            U, S, V = torch.svd(W)
            condition_number = S[0] / S[-1] if S[-1] > 0 else float('inf')
            
            print(f"权重形状: {W.shape}")
            print(f"矩阵秩: {rank}/{full_rank} ({rank_ratio:.1%})")
            print(f"条件数: {condition_number:.2e}")
            print(f"信息保留能力: {'高' if rank_ratio > 0.8 else '中' if rank_ratio > 0.3 else '低'}")
            
            # 测试不同输入的信息保留
            y_random = torch.randn(100, W.shape[1])
            z = y_random @ W.T
            input_var = y_random.var().item()
            output_var = z.var().item()
            print(f"输入方差: {input_var:.3f}")
            print(f"输出方差: {output_var:.3f}")
            print(f"方差保留率: {output_var/input_var:.1%}")
            print("-" * 50)

        # 不同情况的对比
        print("=== 不同权重矩阵的信息传递能力 ===")

        # 1. 全零矩阵（最坏情况）
        W_zero = torch.zeros(10, 5)
        analyze_layer(W_zero)

        # 2. 低秩矩阵（部分信息丢失）
        W_low_rank = torch.randn(10, 5)
        W_low_rank[:, 2:] = 0  # 只保留前2列有效
        analyze_layer(W_low_rank)

        # 3. 满秩随机矩阵（正常情况）
        W_full_rank = torch.randn(10, 5)
        analyze_layer(W_full_rank)

        # 4. 单位矩阵（理想情况）
        W_identity = torch.eye(5, 5)
        analyze_layer(W_identity)
        ```

        输出结果会显示：

        * 全零矩阵：秩=0，方差保留率=0%

        * 低秩矩阵：秩<满秩，部分信息丢失

        * 满秩矩阵：秩=满秩，信息基本保留

* [v] `tensor.detach()`

* [v] 如何将一个子线程的 stdout 重定向到父程序的指定缓冲区？

* [v] 正则表达式中`^`指的是字符串的开头还是`\n`的下一个字符？

* [v] `setline(line_num, new_line)`

* [v] matlab `toml.read()` 可以将 toml 中的 key 变成 struct name

    类似 python 的 easy dict 的效果。调研一下。

    感觉这种用法比较奇怪，因为在执行前不知道有哪些 fields，执行后才知道。比较适合一行一行执行，做实验，不适合正式开发场景。
