* venv

    venv 是 Python 内置的虚拟环境工具，用于创建独立的 Python 运行环境。

    doc: <https://docs.python.org/3/library/venv.html>

    **基本用法**

    1. 创建虚拟环境

        ```bash
        # 在当前目录创建名为 my_env 的虚拟环境
        python -m venv venv

        # 指定 Python 版本创建
        python3.9 -m venv my_env

        # 创建包含系统site-packages的虚拟环境
        python -m venv --system-site-packages my_env
        ```

        注：

        1. venv 会在当前目录下创建一个叫`my_env`的文件夹，并把所有虚拟环境相关的文件都放到这个文件夹下

        1. venv 不能安装新的 python 版本，只能用现有 python 版本。

    2. 激活虚拟环境

        Windows:

        ```bash
        my_env\Scripts\activate
        ```

        Linux/Mac:
        
        ```bash
        source my_env/bin/activate
        ```

        激活后，终端提示符会显示环境名：`(my_env) $`

    3. 停用虚拟环境

        ```bash
        deactivate
        ```

    **常用命令**

    * 查看当前环境

        ```bash
        # 查看Python解释器路径
        which python  # Linux/Mac
        where python  # Windows

        # 查看已安装包
        pip list
        ```

    * 管理依赖

        ```bash
        # 安装包
        pip install package_name

        # 从requirements.txt安装
        pip install -r requirements.txt

        # 生成requirements.txt
        pip freeze > requirements.txt
        ```

    * 删除虚拟环境

        ```bash
        # 只需删除对应的文件夹即可
        rm -rf venv/  # Linux/Mac
        rmdir /s venv # Windows
        ```

    **在IDE中使用**

    * VSCode: 选择解释器路径（Ctrl+Shift+P → "Python: Select Interpreter"）

    * PyCharm: File → Settings → Project → Python Interpreter

    * Jupyter: !python -m ipykernel install --user --name=venv

    **注意事项**

    * 每个项目使用独立环境，避免包冲突

    * 不要将 venv 目录提交到版本控制（添加到.gitignore）

    * 虚拟环境不包含Python解释器副本，只是软链接

    * 可同时激活多个虚拟环境（通过设置环境变量）

    **快捷命令**

    ```bash
    # 创建并激活虚拟环境（Linux/Mac）
    python -m venv venv && source venv/bin/activate

    # 创建带常用工具的虚拟环境
    python -m venv venv --prompt="myenv" && source venv/bin/activate
    pip install ipython black isort flake8
    ```

    这就是 venv 的基本用法，简单高效地管理 Python 项目依赖！

    venv 的核心机制: 轻量级链接（不是完整安装）
    
    ```bash
    # pyvenv.cfg 文件内容示例
    home = /usr/bin              # 指向基础解释器
    include-system-site-packages = false
    version = 3.9.7
    ```

    * Python 解释器：软链接到系统 Python（Unix）或复制可执行文件（Windows）

    * site-packages：完全独立的空目录

    * 标准库：通过路径重定向复用基础 Python 的

* pyenv

    Pyenv 是一个 Python 版本管理工具，支持安装多个 Python 版本并在不同版本间切换，适合开发测试不同环境下的 Python 项目。

    github repo: <https://github.com/pyenv/pyenv>

    一、安装 Pyenv

    使用官方提供的安装脚本（支持 Linux/macOS）：

    ```bash
    curl https://pyenv.run | bash
    ```

    或使用：

    ```bash
    curl -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer | bash
    ```

    二、配置 Shell 环境

    将以下内容添加到 Shell 配置文件（如 ~/.bashrc、~/.zshrc）：

    ```bash
    export PATH="$HOME/.pyenv/bin:$PATH"
    eval "$(pyenv init --path)"
    eval "$(pyenv virtualenv-init -)"  # 如使用 virtualenv 插件
    ```

    重启终端或执行：

    ```bash
    source ~/.bashrc
    ```

    三、基本使用命令

    1. 查看可用版本
    
        ```bash
        pyenv install --list          # 列出所有可安装版本
        pyenv versions                # 查看已安装版本（当前使用的版本前有 * 标记）
        pyenv version                 # 查看当前使用的版本
        ```

    2. 安装 Python 版本

        ```bash
        pyenv install 3.9.7          # 安装指定版本
        pyenv install 3.10.2 -v      # -v 显示详细安装日志
        ```

    3. 切换 Python 版本

        ```bash
        pyenv global 3.9.7           # 全局切换
        pyenv local 3.8.12           # 在当前目录切换（生成 .python-version 文件）
        pyenv shell 3.7.11           # 当前 Shell 会话临时切换
        ```

    4. 卸载版本

        ```bash
        pyenv uninstall 3.8.0        # 卸载指定版本
        ```

    5. 设置镜像加速安装（适用于国内）

        ```bash
        # 在 ~/.bashrc 中添加
        export PYTHON_BUILD_MIRROR_URL="https://mirrors.aliyun.com/python/"
        ```

    四、虚拟环境管理（pyenv-virtualenv 插件）

    创建虚拟环境：

    ```bash
    pyenv virtualenv 3.9.7 myenv-3.9.7
    ```

    激活/切换虚拟环境：

    ```bash
    pyenv activate myenv-3.9.7
    pyenv deactivate
    ```

    删除虚拟环境：

    ```bash
    pyenv virtualenv-delete myenv-3.9.7
    ```

    五、常用场景示例

    为不同项目设置独立版本：

    ```bash
    cd ~/projectA
    pyenv local 3.8.0   # 该项目目录下使用 Python 3.8.0
    cd ~/projectB
    pyenv local 3.10.2  # 该项目目录下使用 Python 3.10.2
    ```

    六、注意事项

    * 安装 Python 前需确保系统有编译依赖（如 zlib、readline 等）。

    * 通过 pyenv local 设置的版本优先级高于 global。

    * 可配合 pipenv 或 poetry 进行更精细的依赖管理。

    总结：Pyenv 通过简单的命令实现了多版本 Python 的隔离管理，是 Python 开发环境配置的实用工具。

* pyenv 会把 python 安装在哪里

    Pyenv 将 Python 版本安装在以下目录中：

    一、安装位置

    1. 主目录（默认）

        ```bash
        # Linux/macOS:
        ~/.pyenv/versions/

        # 示例路径：
        ~/.pyenv/versions/3.9.7/
        ~/.pyenv/versions/3.10.2/
        ~/.pyenv/versions/3.11.0/
        ```

    2. 结构示例

        ```text
        ~/.pyenv/
        ├── versions/           # 所有安装的 Python 版本
        │   ├── 3.9.7/
        │   │   ├── bin/
        │   │   ├── lib/
        │   │   └── include/
        │   ├── 3.10.2/
        │   └── myenv-3.9.7/   # 虚拟环境也在此目录
        ├── shims/             # 垫片文件（pyenv 管理）
        ├── cache/             # 下载的源码包缓存
        └── plugins/           # 插件目录
        ```

    二、验证安装位置

    1. 查看具体路径

        ```bash
        # 查看 Python 解释器路径
        pyenv which python
        # 输出示例：/home/username/.pyenv/versions/3.9.7/bin/python

        # 查看 pip 路径
        pyenv which pip
        ```

    2. 查看版本目录

        ```bash
        # 列出所有已安装版本及其路径
        pyenv versions --path
        # 或
        ls -la ~/.pyenv/versions/
        ```

    三、虚拟环境位置

    1. 虚拟环境也存储在 versions 目录

        ```bash
        # 创建虚拟环境
        pyenv virtualenv 3.9.7 myproject-env

        # 虚拟环境路径
        ~/.pyenv/versions/myproject-env/
        ```

    四、工作原理

    * 垫片（Shims）机制

        * shims 目录：~/.pyenv/shims/

        * 作用：pyenv 在 PATH 最前面插入 shims 目录

        * 执行流程：
        
            ```text
            执行 python 命令 → shims/python → pyenv → 选择对应版本 → 执行真实解释器
            ```

    查看 PATH 验证

    ```bash
    echo $PATH
    # 输出示例：/home/username/.pyenv/shims:/usr/local/bin:/usr/bin:...
    ```

    五、与系统 Python 的关系

    1. 系统 Python（不受 pyenv 管理）

        ```bash
        # 系统默认位置
        /usr/bin/python3    # Linux
        /usr/local/bin/python3  # macOS (Homebrew)
        ```

    2. 隔离性

        pyenv 安装的 Python 与系统 Python 完全隔离

        每个版本独立安装，不共享包

        切换版本不会影响系统 Python

    六、配置自定义安装位置（不推荐）

    环境变量控制

    ```bash
    # 设置安装前缀（编译时）
    export PYENV_ROOT=/custom/path
    # 之后安装的版本会存放到 /custom/path/versions/
    ```

    七、清理与维护

    1. 删除版本

        ```bash
        # 删除指定版本（会从 ~/.pyenv/versions/ 移除）
        pyenv uninstall 3.8.0

        # 手动删除（效果相同）
        rm -rf ~/.pyenv/versions/3.8.0
        ```

    2. 查看磁盘占用

        ```bash
        du -sh ~/.pyenv/versions/
        ```

    总结

    * 主要安装位置：~/.pyenv/versions/

    * 虚拟环境位置：同目录下，以环境名命名

    * 完全用户级：不需要 sudo，不污染系统目录

    * 版本独立：每个 Python 版本都有完整独立的文件结构

    这样设计的优势是安全、可隔离、便于管理多个版本，且不会影响系统自带的 Python。

    **venv 与 pyenv 的关键区别**
    
    方面	venv	pyenv
    Python版本	不安装新版本，复用现有的 Python	可以安装多个 Python 版本
    site-packages	每个虚拟环境独立一份	每个 Python 版本全局共享一份
    存储位置	项目目录内（可自定义）	~/.pyenv/versions/
    激活方式	source myenv/bin/activate	pyenv local/global/shell

* virtual box 中挂载 vboxsf 共享文件夹时，如果 -o umask=0002 失败，可以使用

    `sudo mount -t vboxsf -o uid=1000,gid=1000,dmode=755,fmode=644 D_DRIVE ~/d`

    还可以配置`/etc/fstab`以实现自动挂载：

    ```bash
    # 编辑 fstab 文件
    sudo nano /etc/fstab

    # 添加以下行（使用你的实际用户ID和组ID）
    D_DRIVE  /home/hlc/d  vboxsf  uid=1000,gid=1000,dmode=775,fmode=664  0  0

    # 然后测试挂载
    sudo mount -a
    ```

* vim 中`<tab>`与`<C-i>`等价

    ```vim
    " 将 <leader>t 映射为插入实际的 Tab 字符
    inoremap <leader>t <Tab>

    " 使用 Ctrl+i，这与 Tab 键在插入模式下效果相同
    inoremap <leader>t <C-i>
    ```

    但是如果在字符串中，需要用`\t`表示 tab 键，不能使用`<tab>`。

* julia

    Julia 是一款高性能、动态类型的编程语言，专为科学计算、数值分析和数据科学而设计。其核心特点是像 Python 一样易写，像 C 一样快。

    以下是 Julia 主要用法的简述：

    1. 核心特点与设计理念

        * 即时编译（JIT）：使用 LLVM 编译器，首次运行函数时编译，后续调用速度极快。

        * 多重分派：函数行为根据所有参数类型动态决定，便于编写通用且高效的代码。

        * 动态类型：语法简洁，交互体验类似 Python/MATLAB。

        * 高性能：无需向量化即可获得高性能，循环速度快（区别于 MATLAB/R/Python+NumPy）。

        * 互操作性：轻松调用 C、Fortran、Python（PyCall）、R 等库。

    2. 基本语法

        变量赋值：无需声明类型。

        ```julia
        x = 10
        name = "Julia"
        ```

        数组索引从 1 开始（可配置为 0）。

        ```julia
        arr = [1, 2, 3]
        println(arr[1])  # 输出 1
        ```

        循环与条件

        ```julia
        for i in 1:5
            if i % 2 == 0
                println("$i 是偶数")
            end
        end
        ```

        函数定义

        ```julia
        function add(a, b)
            return a + b
        end
        # 简写
        add(a, b) = a + b
        ```

    3. 类型系统与多重分派

        类型可选，但用于声明时可优化性能。

        ```julia
        function add(a::Int, b::Int)::Int
            return a + b
        end
        ```

        多重分派示例：

        ```julia
        greet(x::String) = println("Hello, $x")
        greet(x::Int) = println("You entered number $x")
        greet("World")  # 调用第一个
        greet(42)       # 调用第二个
        ```

    4. 高性能编程技巧

        避免全局变量：将代码包装在函数中。

        使用类型稳定性：函数内变量类型尽量不变。

        预分配数组：避免循环中动态扩容。

        ```julia
        function slow(n)
            a = 0
            for i in 1:n
                a += i
            end
            return a
        end
        ```

    5. 包管理与生态系统

        内置包管理器：

        ```julia
        using Pkg
        Pkg.add("包名")
        ```

        常用包：

        * DataFrames：数据处理（类似 pandas/R）。

        * Plots / Makie：绘图。

        * Flux / MLJ：机器学习。

        * DifferentialEquations：求解微分方程。

        * JuMP：优化建模。

    6. 并行与分布式计算

        原生支持多核、分布式计算。

        ```julia
        using Distributed
        addprocs(4)  # 添加4个进程
        @distributed for i in 1:10
            # 并行任务
        end
        ```

    7. 工作流程示例

        交互环境：在 REPL、Jupyter Notebook 或 VS Code 中编写代码。

        性能分析：使用 `@time`、`@profiler` 或第三方工具。

        调试：内置调试器 `Debugger.jl`。

    8. 与 Python 的对比与协作

        优势：性能更高，语法更一致，专为数值计算设计。

        劣势：社区规模较小，某些库不够成熟。

        混合使用：通过 PyCall 调用 Python 库（如 NumPy、PyTorch）。

    9. 典型应用场景

        数值模拟与高性能计算

        数据科学与可视化

        机器学习与深度学习

        优化与运筹学

        金融建模与量化分析

    简单示例：计算 π 的蒙特卡洛方法

    ```julia
    function estimate_pi(n)
        inside = 0
        for _ in 1:n
            x, y = rand(), rand()
            if x^2 + y^2 <= 1
                inside += 1
            end
        end
        return 4 * inside / n
    end

    println(estimate_pi(10^6))
    ```

    学习资源

    * 官方文档：docs.julialang.org

    * 中文社区：JuliaCN

    Julia 适合需要高性能但又不愿牺牲开发效率的场景，尤其适合科学计算和原型开发。

* julia 安装

    按官网提示，<https://julialang.org/downloads/>，执行

    ```bash
    curl -fsSL https://install.julialang.org | sh
    ```

* julia 学习资料

    * 官网 learn

        <https://julialang.org/learning/>

    * get started

        <https://docs.julialang.org/en/v1/manual/getting-started/>

    * doc

        <https://docs.julialang.org/en/v1/>

    * julia hub

        <https://juliahub.com/ui/Home>

    * 中文社区

        <https://discourse.juliacn.com/>

    * julia data science (datawhale 出品)

        <https://juliadatascience.io/>

    * 知乎专栏

        <https://zhuanlan.zhihu.com/julia-language?author=mrlaomang>

    * Julia语言入门 pku

        <https://www.math.pku.edu.cn/teachers/lidf/docs/Julia/html/_book/basics.html>

    * julia academy

        <https://juliaacademy.com/>

    * QuantEcon

        Open source code for quantitative economic modeling

        计量经济学代码。

        <https://github.com/quantecon>

    * Think Julia:

        <https://benlauwens.github.io/ThinkJulia.jl/latest/book.html>

    * Julia By Example

        <https://juliabyexample.helpmanual.io/>

    * JuliaBoxTutorials

        <https://github.com/JuliaAcademy/JuliaTutorials>

    * 100 Julia exercises with solutions

        <https://discourse.julialang.org/t/100-julia-exercises-with-solutions/78580>

    * JuliaDynamics 

        <https://github.com/JuliaDynamics>

        <https://juliadynamics.github.io/JuliaDynamics/>

    * JuliaML

        <https://github.com/JuliaML>

    * JuliaAstro

        <https://github.com/JuliaAstro>

    * Quantitative Finance in Julia 

        <https://github.com/JuliaQuant>

    * julia 的 vscode 插件

        <https://www.julia-vscode.org/>

    * Pluto.jl

        响应式笔记本（类似 Observable）

        <https://plutojl.org/>

    * Revise.jl

        开发必备！实时更新代码

        <https://github.com/timholy/Revise.jl>

    可视化与绘图

    * Plots.jl - 统一绘图接口（推荐新手）

        <https://docs.juliaplots.org/latest/>

    * Makie.jl - 高性能交互式绘图

        <https://docs.makie.org/stable/>

    * VegaLite.jl - 声明式统计可视化

        <https://www.queryverse.org/VegaLite.jl/stable/>

    数据科学栈

    ```julia
    # 完整的数据科学工作流
    DataFrames.jl      # 数据处理（类似pandas）
    CSV.jl             # 读写CSV
    StatsBase.jl       # 基础统计
    GLM.jl             # 回归模型
    MLJ.jl             # 机器学习框架
    ScikitLearn.jl     # scikit-learn接口
    ```

    科学计算

    * DifferentialEquations.jl - 微分方程求解（世界顶级）

        <https://docs.sciml.ai/DiffEqDocs/stable/>

    * Optim.jl - 优化工具

        <https://julianlsolvers.github.io/Optim.jl/stable/>

    * JuMP.jl - 数学优化建模

        <https://jump.dev/>

    机器学习/深度学习

    * Flux.jl - 灵活的深度学习框架

        <https://fluxml.ai/>

    * MLJ.jl - 机器学习统一接口

        <https://juliaai.github.io/MLJ.jl/stable/>

    * Knet.jl - 深度学习框架

        <https://github.com/denizyuret/Knet.jl>

    🏆 竞赛与社区

    * JuliaCon - 年度会议（视频全部在线）

        <https://juliacon.org/2026/>

    * Advent of Code - 用Julia解决编程挑战

        <https://github.com/topics/advent-of-code-julia>

    * Google Summer of Code - 参与开源项目

        <https://julialang.org/jsoc/>

    📱 社交与社区

    * Discourse论坛：英文主站 <discourse.julialang.org>

    * Slack：#beginners频道适合提问

    * 中文社区：

        微信公众号：JuliaCN

        QQ群：搜索"Julia语言"

        知乎专栏：Julia语言

    明星项目推荐学习

    * Julia数值计算示例 - 数值分析实现

        <https://github.com/search?q=Julia-Numerical-Analysis&type=repositories>

        <https://github.com/ivanslapnicar/NumericalMathematics>

    * 用Julia写游戏 - 游戏开发

        <https://github.com/JuliaGaming>

* 退出 julia

    * CTRL-D

    * `exit()`

* 如果表达式后有`;`那么 julia 不回显。`ans`只绑定最后一次回显的值。

* julia `include()`本质是执行文件中的所有代码

    `include("file.jl")`

* 运行 julia 脚本：`$ julia script.jl`

* julia 帮助模式

    命令行下按`?`进入帮助模式。输入任何关键字后按回车，可显示相关的帮助文档。

* windows office 替代

    🆓 免费开源替代品

        LibreOffice

            Writer（替代Word）

            Calc（替代Excel）

            Impress（替代PowerPoint）

            完全免费开源，兼容性优秀，支持多种格式

        Apache OpenOffice

            功能与LibreOffice类似

            经典的开源办公套件

        FreeOffice

            界面更接近MS Office

            个人使用免费

    💰 付费商业软件

        WPS Office

            个人版完全免费

            界面与Office高度相似

            云端同步功能

            对中文支持特别好

        SoftMaker Office

            专业级办公软件

            兼容性极佳

    ☁️ 在线办公套件

        Google Workspace

            Google Docs（在线Word）

            Google Sheets（在线Excel）

            Google Slides（在线PPT）

            需要网络，协作功能强大

        Microsoft 365 网页版

            免费使用基础功能

            需要微软账户

        Zoho Office Suite

            功能全面的在线办公套件

            有桌面客户端

    🎯 特色工具组合

        OnlyOffice - 开源协作平台

        Polaris Office - 移动端表现优秀

        Apple iWork（网页版） - 设计精美，可通过浏览器使用

    📊 专业领域工具

        LaTeX（学术论文排版）

        Markdown编辑器（Typora、Obsidian等）

        专业图表工具（Draw.io、yEd等）

    💡 选择建议

        追求完全免费 → LibreOffice

        需要高度兼容Office → WPS Office

        注重团队协作 → Google Workspace

        轻度用户 → 在线版Office 365

    大部分替代软件都支持打开和保存为Office格式（.docx, .xlsx, .pptx），但复杂格式可能有些差异，建议根据具体需求选择试用。

* Oxy- and deoxy-haemoglobin concentration

    血液中氧合血红蛋白与脱氧血红蛋白的浓度

* 体检血小板浓度/积压高，为什么

血小板升高本身不是一个独立的疾病，而是一个临床征象，可能由多种原因引起。

通常，医学上根据病因将血小板升高分为两大类：
一、反应性（继发性）血小板增多症（最常见）

这是指其他原因或疾病刺激骨髓，导致血小板生成增多。通常血小板计数轻度至中度升高（例如，450-1000×10⁹/L），且通常是暂时的，在诱因去除后会恢复正常。常见原因包括：

    急/慢性炎症或感染：这是最常见的原因。身体任何部位的感染（如肺炎、尿路感染、结核等）或慢性炎症（如风湿性关节炎、炎症性肠病等）都会刺激骨髓产生更多血小板。

    缺铁性贫血：体内铁元素缺乏，尤其是慢性失血（如月经过多、消化道溃疡）导致的缺铁，常会伴随血小板反应性增高。补充铁剂纠正贫血后，血小板通常会恢复正常。

    组织损伤或手术：急性大出血、外伤、大型手术后，身体会代偿性地生成更多血小板来帮助止血。

    脾切除术后：脾脏是破坏衰老血小板的主要场所。脾脏切除后，血小板在血液中的寿命延长，数量会显著且持续地升高。

    恶性肿瘤：某些癌症（如肺癌、胃癌、卵巢癌等）会分泌一些物质刺激血小板生成。

    药物反应：某些药物如肾上腺素、糖皮质激素等可能引起血小板一过性升高。

    生理性波动：剧烈运动、分娩后等也可能出现暂时性升高。

二、原发性血小板增多症（骨髓增殖性肿瘤）

    这是一种骨髓本身的疾病，属于血液系统的肿瘤性疾病（但通常是慢性、可控的）。骨髓中产生血小板的巨核细胞不受控制地增殖，导致血小板持续显著升高（常超过1000×10⁹/L）。这种情况下，血小板功能可能不正常，反而容易引起血栓或出血的风险。

        与反应性的关键区别：原发性血小板增多通常找不到上述明确的外部原因，且常伴有脾脏轻度肿大，血小板计数持续、进行性增高。

    您现在应该怎么做？

    面对“血小板升高”的体检报告，正确的步骤是：

        切勿自行解读或恐慌：一次检查结果异常需要结合您的整体情况来分析。

        回顾并排除干扰因素：检查前是否剧烈运动、情绪紧张、饮水过少导致血液浓缩？女性是否处于月经期前后？这些可能导致一过性升高。

        寻求专业评估——看血液科医生：这是最关键的一步。请携带您的体检报告，去看血液科门诊。

        配合医生进行必要检查：医生会详细询问您的病史、症状（如是否有头痛、头晕、视力模糊、手脚麻木、皮肤瘀斑等），并可能建议：

            复查血常规：确认血小板是否持续升高，并观察其他血细胞（红细胞、白细胞）有无异常。

            血清铁蛋白和铁饱和度：排除最常见的缺铁性贫血。

            炎症指标检查：如C反应蛋白、血沉，排查感染或炎症。

            腹部B超：检查脾脏大小。

            骨髓穿刺检查：如果怀疑是原发性血小板增多症或其他骨髓疾病，这是确诊的金标准。医生会根据初步检查结果判断是否需要做此项检查。

    重点提示

        风险主要在于血栓：显著升高的血小板会增加血液粘稠度，使血管内形成血栓的风险增高，可能引发心梗、脑梗或下肢静脉血栓等。

        治疗取决于病因：如果是反应性的，重点治疗原发病（如抗感染、补铁）。如果是原发性的，治疗目标是降低血栓风险，可能使用阿司匹林抗血小板或降细胞药物。

    总结：体检发现血小板升高，第一步是去血液科就诊，明确是“反应性”还是“原发性”。绝大多数情况是反应性的，有因可查且可治。即使是原发性的，也属于可管理的慢性病。请务必通过专业诊断来获得明确的答案和正确的处理方案。