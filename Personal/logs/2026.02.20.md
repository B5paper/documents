* ä»…é  ai å›žç­”èŽ·å–çŸ¥è¯†ä¼¼ä¹Žä»æ— æ³•ä»£æ›¿ tutorialï¼Œå› ä¸º ai å›žç­”è¿‡äºŽæ³¨é‡é—®é¢˜å’Œç­”æ¡ˆçš„ä¸€ä¸€å¯¹åº”ï¼Œä»Žè€Œç¼ºå°‘äº†â€œéåŽ†â€æ•´ä¸ªç›¸å…³é¢†åŸŸçš„èƒ½åŠ›ã€‚

    å‘ ai æå‡ºç»†èŠ‚çš„é—®é¢˜ -> ai å¸®ä½ æ‰©å±•åˆ°è¿™ä¸ªé—®é¢˜èƒŒåŽçš„é¢†åŸŸ -> å‘ ai è¦æ›´å¤šçš„å­¦ä¹ èµ„æ–™ -> åŽ»é˜…è¯» tutorial, video, slides, books, API doc, blogs -> åœ¨é˜…è¯»å’Œå­¦ä¹ çš„æ—¶å€™å‘ ai æå‡ºé‡åˆ°çš„é—®é¢˜ -> æ€»ç»“ç¬”è®°ï¼ŒåŠ å…¥å¤ä¹ ç³»ç»Ÿ

    è¿™æ ·çš„å­¦ä¹ è¿‡ç¨‹æ¯”è¾ƒå¥½ã€‚

* nibabel, nilearn è¿™ä¿©åº“æ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ

    è¿™ä¸¤ä¸ªæ˜¯**Pythonç¥žç»å½±åƒåˆ†æžçš„æ ¸å¿ƒåº“**ï¼Œè®©æˆ‘è¯¦ç»†è§£é‡Šï¼š

    **NiBabel - æ–‡ä»¶I/OåŸºç¡€åº“**

    æ ¸å¿ƒåŠŸèƒ½ï¼šè¯»å†™ç¥žç»å½±åƒæ ¼å¼

    ```python
    import nibabel as nib

    # 1. è¯»å–å„ç§ç¥žç»å½±åƒæ ¼å¼
    img = nib.load('subject_T1.nii.gz')  # NIfTIæ ¼å¼
    img = nib.load('subject.dcm')         # DICOMæ ¼å¼
    img = nib.load('subject.mgz')          # FreeSurferæ ¼å¼

    # 2. èŽ·å–å½±åƒæ•°æ®
    data = img.get_fdata()  # 3D/4Dæ•°ç»„ï¼Œshape=(x, y, z) æˆ– (x, y, z, t)
    affine = img.affine     # ä»¿å°„çŸ©é˜µï¼Œå°†ä½“ç´ åæ ‡æ˜ å°„åˆ°çœŸå®žç©ºé—´åæ ‡

    # 3. å¤„ç†å¤´æ–‡ä»¶ä¿¡æ¯
    header = img.header
    voxel_size = header.get_zooms()  # èŽ·å–ä½“ç´ å¤§å°
    ```

    **ä¸»è¦ç”¨é€”**

    - **æ ¼å¼è½¬æ¢**ï¼šDICOM â†’ NIfTIï¼ŒNIfTI â†’ FreeSurferç­‰
    - **æ•°æ®è®¿é—®**ï¼šèŽ·å–MRI/fMRIçš„åƒç´ æ•°æ®
    - **åæ ‡å˜æ¢**ï¼šå¤„ç†ä¸åŒç©ºé—´åæ ‡ç³»çš„è½¬æ¢

    **Nilearn - ç»Ÿè®¡åˆ†æžåº“**

    æ ¸å¿ƒåŠŸèƒ½ï¼šç»Ÿè®¡å­¦ä¹ å’Œå¯è§†åŒ–

    ```python
    from nilearn import image, plotting, datasets, surface

    # 1. ä¸‹è½½æ ‡å‡†æ¨¡æ¿
    mni = datasets.load_mni152_template()  # MNI152æ ‡å‡†è„‘æ¨¡æ¿

    # 2. å›¾åƒå¤„ç†
    smoothed_img = image.smooth_img('fmri.nii.gz', fwhm=6)  # ç©ºé—´å¹³æ»‘
    masked_data = image.clean_img(imgs, confounds=confounds)  # åŽ»å™ª

    # 3. ç»Ÿè®¡å»ºæ¨¡
    from nilearn.glm.first_level import FirstLevelGLM
    glm = FirstLevelGLM()
    results = glm.fit(run_images, design_matrices)

    # 4. å¯è§†åŒ–
    plotting.plot_img('stat_map.nii.gz')  # æ˜¾ç¤ºç»Ÿè®¡å›¾
    plotting.plot_glass_brain('contrast.nii.gz')  # çŽ»ç’ƒè„‘æ˜¾ç¤º
    plotting.view_img('results.nii.gz')  # äº¤äº’å¼3Dè§†å›¾
    ```

    **ä¸¤è€…å…³ç³»**

    ```
    åŽŸå§‹æ•°æ® â†’ [NiBabelè¯»å–] â†’ NumPyæ•°ç»„ â†’ [Nilearnå¤„ç†] â†’ ç»Ÿè®¡ç»“æžœ â†’ [NiBabelä¿å­˜]
    ```

    **å®žé™…é…åˆä½¿ç”¨**

    ```python
    import nibabel as nib
    from nilearn import image, plotting
    import numpy as np

    # NiBabelè´Ÿè´£IO
    img = nib.load('functional.nii.gz')
    data = img.get_fdata()

    # Nilearnè´Ÿè´£åˆ†æž
    # 1. é¢„å¤„ç†
    processed = image.clean_img(img, detrend=True, standardize=True)

    # 2. ç»Ÿè®¡åˆ†æž
    from nilearn.glm import threshold_stats_img
    thresholded_map, threshold = threshold_stats_img(
        stat_map_img, 
        alpha=0.05, 
        height_control='fdr'
    )

    # 3. å¯è§†åŒ–
    plotting.plot_stat_map(thresholded_map, 
                            bg_img='anatomy.nii.gz',
                            cut_coords=[-30, -20, 10])

    # NiBabelå†æ¬¡ç”¨äºŽä¿å­˜
    nib.save(thresholded_map, 'results.nii.gz')
    ```

    **åœ¨fNIRSåˆ†æžä¸­çš„å¯èƒ½ç”¨é€”**

    è™½ç„¶è¿™ä¸¤ä¸ªåº“ä¸»è¦ä¸ºfMRI/MRIè®¾è®¡ï¼Œä½†åœ¨fNIRSä¸­ä¹Ÿæœ‰ç”¨æ­¦ä¹‹åœ°ï¼š

    ```python
    import nibabel as nib
    from nilearn import plotting, surface

    # 1. åŠ è½½æ ‡å‡†è„‘æ¨¡æ¿ç”¨äºŽå¯è§†åŒ–
    mni = nib.load('mni152.nii.gz')

    # 2. å°†fNIRSæŽ¢å¤´ä½ç½®æ˜ å°„åˆ°æ ‡å‡†ç©ºé—´
    from mne_nirs.channels import get_long_channels
    montage = get_long_channels(raw_info)
    mni_positions = transform_to_mni(montage.get_positions())  # éœ€è¦è‡ªå®šä¹‰å˜æ¢

    # 3. åœ¨æ ‡å‡†è„‘ä¸Šç»˜åˆ¶æŽ¢å¤´ä½ç½®
    plotting.plot_markers(
        mni_positions,
        mni,
        marker_color='red',
        marker_size=50
    )

    # 4. å°†é‡å»ºç»“æžœä¿å­˜ä¸ºæ ‡å‡†æ ¼å¼
    # å‡è®¾ä½ è®¡ç®—å‡ºäº†å¤§è„‘æ¿€æ´»å›¾ï¼ˆ2Dæ•°ç»„ï¼‰
    activation_map_3d = project_to_volume(activation_values, mni.affine)
    nib.save(nib.Nifti1Image(activation_map_3d, mni.affine), 
             'fnirs_activation.nii.gz')
    ```

    **æ ¸å¿ƒåŒºåˆ«æ€»ç»“**

    | ç‰¹æ€§ | NiBabel | Nilearn |
    |------|---------|---------|
    | **ä¸»è¦åŠŸèƒ½** | æ–‡ä»¶è¯»å†™ã€æ ¼å¼è½¬æ¢ | ç»Ÿè®¡åˆ†æžã€æœºå™¨å­¦ä¹  |
    | **ä¾èµ–å…³ç³»** | åŸºç¡€IOåº“ | ä¾èµ–NiBabelã€Scikit-learn |
    | **åº”ç”¨åœºæ™¯** | æ•°æ®åŠ è½½/ä¿å­˜ | ç»Ÿè®¡å»ºæ¨¡ã€å¯è§†åŒ– |
    | **fNIRSé€‚ç”¨æ€§** | é—´æŽ¥ï¼ˆä¿å­˜ç»“æžœï¼‰ | æœ‰é™ï¼ˆå¯è§†åŒ–ä¸ºä¸»ï¼‰ |

    **å®žé™…å»ºè®®**

    1. **å¿…é¡»å­¦NiBabel**ï¼šä»»ä½•ç¥žç»å½±åƒPythonåˆ†æžçš„åŸºç¡€
    2. **æ ¹æ®éœ€æ±‚å­¦Nilearn**ï¼šå¦‚æžœåšfMRIæˆ–éœ€è¦é«˜çº§å¯è§†åŒ–
    3. **fNIRSé¡¹ç›®**ï¼šä¸»è¦ç”¨äºŽæœ€ç»ˆç»“æžœçš„ä¿å­˜å’Œå¯è§†åŒ–

    éœ€è¦æˆ‘è¯¦ç»†ä»‹ç»å®ƒä»¬åœ¨fNIRSé¡¹ç›®ä¸­çš„å…·ä½“åº”ç”¨æ¡ˆä¾‹å—ï¼Ÿ

* ä¸€äº›æœ‰ç”¨çš„æ‘˜å½•

    > fNIRS devices consist of two kinds of optodes: light sources (AKA â€œemittersâ€ or â€œtransmittersâ€) and light detectors (AKA â€œreceiversâ€). Channels are defined as source-detector pairs, and channel locations are defined as the midpoint between source and detector.

* oxyhaemoglobin prn. [É’ksihimÉ™É¡'loÊŠbÉªn] n. æ°§åŒ–è¡€çº¢ç´ 

* ä»€ä¹ˆæ˜¯ frequency domain fNIRS

    **Frequency Domain fNIRS (FD-fNIRS)** ç®€ä»‹

    Frequency Domain fNIRSæ˜¯ä¸€ç§**å…ˆè¿›çš„åŠŸèƒ½æ€§è¿‘çº¢å¤–å…‰è°±æŠ€æœ¯**ï¼Œå®ƒé€šè¿‡**è°ƒåˆ¶å…‰å¼ºé¢‘çŽ‡**æ¥æµ‹é‡å¤§è„‘æ´»åŠ¨ã€‚è®©æˆ‘è¯¦ç»†è§£é‡Šï¼š

    **åŸºæœ¬åŽŸç†**

    1. **ä¸Žä¼ ç»Ÿæ–¹æ³•çš„å¯¹æ¯”**

        ```python
        # ä¸‰ç§ä¸»è¦fNIRSæŠ€æœ¯çš„å¯¹æ¯”
        techniques = {
            "Continuous Wave (CW-fNIRS)": {
                "å…‰å¼ºè°ƒåˆ¶": "æ’å®šå¼ºåº¦",
                "æµ‹é‡å‚æ•°": "åªæœ‰å…‰è¡°å‡",
                "ä¼˜ç¼ºç‚¹": ["ç®€å•ä¾¿å®œ", "æ— æ³•åŒºåˆ†å¸æ”¶å’Œæ•£å°„"]
            },
            "Frequency Domain (FD-fNIRS)": {
                "å…‰å¼ºè°ƒåˆ¶": "é«˜é¢‘è°ƒåˆ¶ (MHzèŒƒå›´)",
                "æµ‹é‡å‚æ•°": "è¡°å‡ + ç›¸ä½å»¶è¿Ÿ + è°ƒåˆ¶æ·±åº¦",
                "ä¼˜ç¼ºç‚¹": ["å¯åŒºåˆ†å¸æ”¶å’Œæ•£å°„", "è®¾å¤‡è¾ƒå¤æ‚"]
            },
            "Time Domain (TD-fNIRS)": {
                "å…‰å¼ºè°ƒåˆ¶": "è„‰å†²æ¿€å…‰",
                "æµ‹é‡å‚æ•°": "æ—¶é—´ç‚¹æ‰©å±•å‡½æ•°",
                "ä¼˜ç¼ºç‚¹": ["ä¿¡æ¯æœ€ä¸°å¯Œ", "æœ€æ˜‚è´µå¤æ‚"]
            }
        }
        ```

    2. **ç‰©ç†åŽŸç†**

        ```python
        import numpy as np
        import matplotlib.pyplot as plt

        # æ¨¡æ‹ŸFD-fNIRSçš„å…‰å¼ºè°ƒåˆ¶
        t = np.linspace(0, 10e-9, 1000)  # æ—¶é—´(ns)
        frequency = 100e6  # 100 MHzè°ƒåˆ¶

        # å…¥å°„å…‰
        incident = np.sin(2 * np.pi * frequency * t)

        # å‡ºå°„å…‰ï¼ˆæœ‰è¡°å‡å’Œç›¸ä½å»¶è¿Ÿï¼‰
        attenuation = 0.7  # è¡°å‡ç³»æ•°
        phase_delay = 0.5  # ç›¸ä½å»¶è¿Ÿï¼ˆå¼§åº¦ï¼‰
        detected = attenuation * np.sin(2 * np.pi * frequency * t - phase_delay)

        plt.figure(figsize=(10, 4))
        plt.plot(t*1e9, incident, label='å…¥å°„å…‰', alpha=0.7)
        plt.plot(t*1e9, detected, label='å‡ºå°„å…‰', alpha=0.7)
        plt.xlabel('æ—¶é—´ (ns)')
        plt.ylabel('å…‰å¼º')
        plt.title('FD-fNIRSï¼šé«˜é¢‘è°ƒåˆ¶å…‰ä¿¡å·')
        plt.legend()
        plt.grid(True)
        plt.show()
        ```

    **æµ‹é‡å‚æ•°**

    1. **ä¸‰ä¸ªå…³é”®å‚æ•°**

        ```python
        class FDNIRS_Measurement:
            def __init__(self):
                self.DC = None      # å¹³å‡å…‰å¼ºï¼ˆè¡°å‡ï¼‰
                self.AC = None      # è°ƒåˆ¶å¹…åº¦ï¼ˆè°ƒåˆ¶æ·±åº¦ï¼‰
                self.phase = None   # ç›¸ä½å»¶è¿Ÿ
                
            def calculate_optical_properties(self):
                """
                ä»Žæµ‹é‡å‚æ•°è®¡ç®—å…‰å­¦ç‰¹æ€§
                """
                # å¸æ”¶ç³»æ•° (Î¼a) å’Œ çº¦åŒ–æ•£å°„ç³»æ•° (Î¼s')
                # é€šè¿‡æ±‚è§£å…‰å­æ‰©æ•£æ–¹ç¨‹å¾—åˆ°
                mu_a = self.solve_for_absorption(self.DC, self.AC, self.phase)
                mu_s_prime = self.solve_for_scattering(self.DC, self.AC, self.phase)
                
                return mu_a, mu_s_prime
            
            def solve_for_absorption(self, DC, AC, phase):
                """ç®€åŒ–çš„å¸æ”¶ç³»æ•°è®¡ç®—"""
                # å®žé™…éœ€è¦è§£æ‰©æ•£æ–¹ç¨‹
                # è¿™é‡Œåªæ˜¯ç¤ºæ„
                mu_a = (np.log(DC) + np.log(AC)) / (2 * phase)
                return mu_a
        ```

    2. **æ•°æ®é‡‡é›†è¿‡ç¨‹**

        ```python
        # å…¸åž‹çš„FD-fNIRSé‡‡é›†æµç¨‹
        class FDNIRS_Acquisition:
            def __init__(self, modulation_freq=110e6):  # å¸¸ç”¨110 MHz
                self.freq = modulation_freq
                self.sampling_rate = 10 * modulation_freq  # å¥ˆå¥Žæ–¯ç‰¹å®šç†
                
            def acquire_channel(self, source, detector):
                """
                å•ä¸ªé€šé“çš„é‡‡é›†
                """
                # 1. å‘é€è°ƒåˆ¶å…‰
                self.emit_modulated_light(source, self.freq)
                
                # 2. æ£€æµ‹ä¿¡å·
                raw_signal = self.detect_light(detector)
                
                # 3. è§£è°ƒï¼ˆæå–DCã€ACå’Œç›¸ä½ï¼‰
                DC = np.mean(raw_signal)
                AC = np.std(raw_signal) * np.sqrt(2)
                
                # ç”¨é”ç›¸æ”¾å¤§å™¨æå–ç›¸ä½
                reference = np.sin(2 * np.pi * self.freq * self.time)
                phase = self.extract_phase(raw_signal, reference)
                
                return {
                    'DC': DC,
                    'AC': AC,
                    'phase': phase,
                    'frequency': self.freq
                }
        ```

    **ä¼˜åŠ¿ä¸Žå±€é™**

    **ä¼˜ç‚¹**

    ```python
    advantages = {
        "å®šé‡æµ‹é‡": "âœ… å¯åˆ†åˆ«è®¡ç®—HbOå’ŒHbRçš„ç»å¯¹æµ“åº¦",
        "æ·±å±‚ç»„ç»‡": "âœ… ç©¿é€æ·±åº¦æ¯”CW-fNIRSå¤§ï¼ˆå¯è¾¾3-4cmï¼‰",
        "æŠ—å¹²æ‰°": "âœ… è°ƒåˆ¶æŠ€æœ¯é™ä½ŽçŽ¯å¢ƒå…‰å¹²æ‰°",
        "å¤šå‚æ•°": "âœ… åŒæ—¶èŽ·å¾—å¸æ”¶å’Œæ•£å°„ä¿¡æ¯"
    }

    # å®šé‡è®¡ç®—ç¤ºä¾‹
    def calculate_absolute_concentration(AC, phase, baseline):
        """
        è®¡ç®—ç»å¯¹è¡€æ°§æµ“åº¦
        """
        # åŸºäºŽä¿®æ­£çš„Beer-Lambertå®šå¾‹
        # ä½†å¯ä»¥åˆ†ç¦»å¸æ”¶å’Œæ•£å°„æ•ˆåº”
        mu_a = extract_absorption(AC, phase)
        
        # ä½¿ç”¨æ¯”å°”å®šå¾‹è®¡ç®—æµ“åº¦
        epsilon_HbO = 2.5  # æ‘©å°”æ¶ˆå…‰ç³»æ•° (cmâ»Â¹/mM)
        epsilon_HbR = 1.8
        
        # è§£è”ç«‹æ–¹ç¨‹
        HbO = (mu_a[760] * epsilon_HbR[850] - mu_a[850] * epsilon_HbR[760]) / \
              (epsilon_HbO[760] * epsilon_HbR[850] - epsilon_HbO[850] * epsilon_HbR[760])
        
        return HbO
    ```

    **å±€é™**

    ```python
    limitations = {
        "è®¾å¤‡æˆæœ¬": "ðŸ’° æ¯”CW-fNIRSè´µ3-5å€",
        "å¤æ‚æ€§": "ðŸ”§ éœ€è¦é«˜é¢‘ç”µå­è®¾å¤‡å’Œç²¾å¯†æ ¡å‡†",
        "æ•°æ®å¤„ç†": "ðŸ“Š éœ€è¦å¤æ‚çš„è§£è°ƒç®—æ³•",
        "åŠŸè€—": "âš¡ é«˜é¢‘è°ƒåˆ¶å¯¼è‡´æ›´é«˜åŠŸè€—"
    }
    ```

    **å®žé™…åº”ç”¨**

    1. **ç¡¬ä»¶ç»„æˆ**

        ```python
        class FDNIRS_System:
            def __init__(self):
                # æ ¸å¿ƒç»„ä»¶
                self.laser_diodes = {
                    '760nm': LaserDiode(freq=110e6, power=10),  # åŽ»æ°§è¡€çº¢è›‹ç™½æ•æ„Ÿ
                    '850nm': LaserDiode(freq=110e6, power=10)   # æ°§åˆè¡€çº¢è›‹ç™½æ•æ„Ÿ
                }
                
                self.detectors = {
                    'PMT': PhotomultiplierTube(gain=1e6),        # é«˜çµæ•åº¦
                    'APD': AvalanchePhotodiode(bandwidth=200e6)  # é«˜é€Ÿå“åº”
                }
                
                self.modulation = {
                    'type': 'sine',          # æ­£å¼¦è°ƒåˆ¶
                    'frequencies': [70e6, 110e6, 140e6],  # å¤šé¢‘å¯é€‰
                    'demodulation': 'lock-in' # é”ç›¸æ”¾å¤§è§£è°ƒ
                }
        ```

    2. **æ•°æ®åˆ†æž**

        ```python
        import numpy as np
        from scipy import signal

        def process_fdnirs_data(ac_760, ac_850, phase_760, phase_850, distance):
            """
            å¤„ç†FD-fNIRSæ•°æ®
            """
            # 1. è®¡ç®—å…‰å­¦ç‰¹æ€§
            mu_a_760, mus_760 = solve_diffusion_equation(
                AC=ac_760, 
                phase=phase_760,
                distance=distance,
                wavelength=760
            )
            
            mu_a_850, mus_850 = solve_diffusion_equation(
                AC=ac_850,
                phase=phase_850,
                distance=distance,
                wavelength=850
            )
            
            # 2. è®¡ç®—è¡€æ°§æµ“åº¦
            HbO, HbR = beer_lambert_modified(
                mu_a_760, 
                mu_a_850,
                wavelengths=[760, 850],
                extinction_coeffs=extinction_data
            )
            
            # 3. é¢å¤–ä¿¡æ¯ï¼šæ•£å°„ç³»æ•°åæ˜ ç»„ç»‡ç»“æž„
            scatter_index = (mus_760 + mus_850) / 2
            
            return {
                'HbO': HbO,
                'HbR': HbR,
                'scatter': scatter_index,
                'phase_delay': (phase_760 + phase_850) / 2
            }
        ```

    **ä¸Žå…¶ä»–æŠ€æœ¯çš„æ¯”è¾ƒ**

    | ç‰¹æ€§ | CW-fNIRS | FD-fNIRS | TD-fNIRS |
    |------|----------|----------|----------|
    | **ä¿¡æ¯é‡** | ä½Ž | ä¸­ | é«˜ |
    | **æˆæœ¬** | $10k-50k | $50k-150k | $200k+ |
    | **æ—¶é—´åˆ†è¾¨çŽ‡** | é«˜(>100Hz) | ä¸­(10-50Hz) | ä½Ž(<10Hz) |
    | **ç©¿é€æ·±åº¦** | 1-2cm | 2-3cm | 3-5cm |
    | **å®šé‡èƒ½åŠ›** | ç›¸å¯¹å˜åŒ– | ç»å¯¹æµ“åº¦ | ç»å¯¹æµ“åº¦+åˆ†å±‚ |
    | **ä¾¿æºæ€§** | é«˜ | ä¸­ | ä½Ž |

    **æ€»ç»“**

    **FD-fNIRSçš„æ ¸å¿ƒä»·å€¼**ï¼š

    1. **å®šé‡æµ‹é‡**ï¼šä¸å†æ˜¯ç®€å•çš„ç›¸å¯¹å˜åŒ–
    2. **åŒºåˆ†å¸æ”¶å’Œæ•£å°„**ï¼šèŽ·å¾—æ›´å…¨é¢çš„ç»„ç»‡ä¿¡æ¯
    3. **æ›´å¥½çš„æ·±åº¦ç©¿é€**ï¼šå¯ä»¥æµ‹é‡æ›´æ·±å±‚çš„å¤§è„‘ç»„ç»‡

    **é€‚ç”¨åœºæ™¯**ï¼š

    - éœ€è¦ç»å¯¹è¡€æ°§æµ“åº¦çš„ä¸´åºŠç ”ç©¶
    - æ·±å±‚è„‘åŒºæµ‹é‡
    - éœ€è¦åŒºåˆ†è¡€æ°§å’Œæ•£å°„æ•ˆåº”çš„ç ”ç©¶

    éœ€è¦æˆ‘è¯¦ç»†è§£é‡ŠFD-fNIRSåœ¨æŸä¸ªå…·ä½“é¢†åŸŸçš„åº”ç”¨å—ï¼Ÿ

* ç®€è¿°ä»€ä¹ˆæ˜¯ frequency domain fNIRSã€‚ç”¨ä¸­æ–‡å›žç­”

    **é¢‘åŸŸåŠŸèƒ½æ€§è¿‘çº¢å¤–å…‰è°±ï¼ˆFrequency Domain fNIRSï¼‰** æ˜¯ä¸€ç§é€šè¿‡æµ‹é‡å¤§è„‘çš®å±‚è¡€æ°§ä»£è°¢å˜åŒ–æ¥è¯„ä¼°ç¥žç»æ´»åŠ¨çš„å…‰å­¦è„‘æˆåƒæŠ€æœ¯ã€‚

    å®ƒæ˜¯ **fNIRS** æŠ€æœ¯çš„ä¸€ç§å®žçŽ°å½¢å¼ã€‚ä¸Žå¸¸è§çš„**è¿žç»­æ³¢ï¼ˆContinuous Wave, CWï¼‰** ç³»ç»Ÿä¸åŒï¼Œé¢‘åŸŸæŠ€æœ¯é€šè¿‡å‘å¤´éƒ¨å‘å°„**å¼ºåº¦ç»è¿‡é«˜é¢‘è°ƒåˆ¶çš„è¿‘çº¢å¤–å…‰**ï¼ˆé€šå¸¸ä¸ºå‡ åè‡³å‡ ç™¾MHzï¼‰ï¼Œå¹¶åˆ†æžä»Žç»„ç»‡ä¸­æ•£å°„å‡ºæ¥çš„å…‰ä¿¡å·çš„å˜åŒ–æ¥èŽ·å–æ•°æ®ã€‚

    å…¶æ ¸å¿ƒåŽŸç†å’Œç‰¹ç‚¹å¦‚ä¸‹ï¼š

    1.  **æµ‹é‡å‚æ•°ï¼ˆç›¸ä½ä¸Žè¡°å‡ï¼‰**ï¼š

        -   **ç›¸ç§»**ï¼šå…‰åœ¨ç©¿è¿‡ç»„ç»‡æ—¶ï¼Œç”±äºŽä¼ æ’­è·¯å¾„çš„å»¶è¿Ÿï¼Œå‡ºå°„å…‰çš„ç›¸ä½ä¼šç›¸å¯¹äºŽå…¥å°„å…‰å‘ç”Ÿ**æ»žåŽ**ã€‚è¿™ä¸ªç›¸ä½å»¶è¿Ÿç¨‹åº¦ä¸»è¦å–å†³äºŽå…‰åœ¨ç»„ç»‡ä¸­çš„**è·¯å¾„é•¿åº¦**å’Œç»„ç»‡çš„**å¸æ”¶ç³»æ•°**ã€‚
        -   **è¡°å‡**ï¼šå‡ºå°„å…‰ç›¸å¯¹äºŽå…¥å°„å…‰çš„å¹³å‡å…‰å¼ºè¡°å‡ç¨‹åº¦ï¼Œåæ˜ äº†ç»„ç»‡çš„æ€»**å¸æ”¶ç³»æ•°**å’Œ**æ•£å°„ç³»æ•°**ã€‚

    2.  **å…³é”®ä¼˜åŠ¿ï¼šè·¯å¾„é•¿åº¦æ ¡æ­£**ï¼š

        -   åœ¨è¿žç»­æ³¢ç³»ç»Ÿä¸­ï¼Œç”±äºŽå…‰åœ¨ç»„ç»‡ä¸­çš„å®žé™…è¡Œèµ°è·¯å¾„é•¿åº¦æ˜¯æœªçŸ¥çš„ï¼Œå¾ˆéš¾è¿›è¡Œç²¾ç¡®çš„å®šé‡æµ‹é‡ã€‚
        -   é¢‘åŸŸç³»ç»Ÿé€šè¿‡æµ‹é‡**ç›¸ç§»**ï¼Œå¯ä»¥è®¡ç®—å‡ºå…‰å­åœ¨ç»„ç»‡ä¸­çš„**å¹³å‡è·¯å¾„é•¿åº¦**ã€‚ä¸€æ—¦çŸ¥é“äº†è·¯å¾„é•¿åº¦ï¼Œå°±å¯ä»¥ç»“åˆå…‰å¼ºçš„è¡°å‡ï¼Œé€šè¿‡æ•°å­¦æ¨¡åž‹ï¼ˆå¦‚ä¿®æ­£çš„æ¯”å°”-æœ—ä¼¯å®šå¾‹çš„é¢‘åŸŸè§£ï¼‰å°†å¸æ”¶ç³»æ•°å’Œæ•£å°„ç³»æ•°**åˆ†ç¦»**å¼€æ¥ã€‚

    3.  **ä¸»è¦åŠŸèƒ½**ï¼š

        -   **å®šé‡æµ‹é‡**ï¼šèƒ½å¤Ÿæ›´ç²¾ç¡®åœ°è®¡ç®—å‡ºæ°§åˆè¡€çº¢è›‹ç™½ï¼ˆHbOï¼‰å’Œè„±æ°§è¡€çº¢è›‹ç™½ï¼ˆHbRï¼‰çš„**ç»å¯¹æµ“åº¦å˜åŒ–**ï¼ˆç›¸æ¯”è¿žç»­æ³¢ç³»ç»Ÿé€šå¸¸åªèƒ½æµ‹é‡ç›¸å¯¹å˜åŒ–ï¼‰ã€‚
        -   **ç»„ç»‡å…‰å­¦ç‰¹æ€§**ï¼šå¯ä»¥åŒæ—¶æµ‹é‡ç»„ç»‡çš„å¸æ”¶ç³»æ•°ï¼ˆÎ¼aï¼‰å’Œçº¦åŒ–æ•£å°„ç³»æ•°ï¼ˆÎ¼sâ€˜ï¼‰ï¼Œæœ‰åŠ©äºŽæ›´æ·±å…¥åœ°äº†è§£ç»„ç»‡ç‰¹æ€§ã€‚

    **æ€»ç»“æ¥è¯´**ï¼Œé¢‘åŸŸfNIRSæ¯”è¿žç»­æ³¢fNIRSæä¾›äº†æ›´ä¸°å¯Œçš„å…‰å­¦ä¿¡æ¯ï¼Œèƒ½å¤Ÿå®žçŽ°æ›´é«˜ç²¾åº¦çš„å®šé‡æµ‹é‡ï¼Œå¹¶åŒºåˆ†å…‰çš„å¸æ”¶ä¸Žæ•£å°„æ•ˆåº”ï¼Œè¿™å¯¹äºŽéœ€è¦ç²¾ç¡®æ¯”è¾ƒæˆ–ç»å¯¹é‡åŒ–è„‘è¡€æµåŠ¨åŠ›å­¦ååº”çš„ç ”ç©¶å…·æœ‰é‡è¦ä»·å€¼ã€‚

* ç»™ä¸€äº›é¢‘åŸŸ fnirs ç›¸å…³çš„è®ºæ–‡ã€é¡¹ç›®ã€ä¹¦ç±ç­‰å­¦ä¹ èµ„æ–™

    ä»¥ä¸‹æ˜¯å…³äºŽé¢‘åŸŸfNIRSçš„ç²¾é€‰å­¦ä¹ èµ„æ–™ï¼Œæ¶µç›–ç»å…¸è®ºæ–‡ã€å¼€æºé¡¹ç›®ã€ä¸“ä¸šä¹¦ç±å’Œç ”ç©¶å›¢é˜Ÿï¼Œå¸®åŠ©ä½ ç³»ç»ŸæŽŒæ¡è¿™ä¸€æŠ€æœ¯ï¼š

    **ç»å…¸ç»¼è¿°ä¸Žå¥ åŸºè®ºæ–‡**

    1.  **ã€ŠFrequency-domain techniques for cerebral and functional near-infrared spectroscopyã€‹**

        -   *ä½œè€…*ï¼šFantini, S., & Franceschini, M. A. (2006)
        -   *æ¥æº*ï¼šNear-Infrared Spectroscopy, 11, 203-223.
        -   *ç®€ä»‹*ï¼šè¯¥é¢†åŸŸçš„ç»å…¸å…¥é—¨ç»¼è¿°ï¼Œè¯¦ç»†é˜è¿°äº†é¢‘åŸŸæŠ€æœ¯çš„ç‰©ç†åŽŸç†åŠå…¶åœ¨è„‘åŠŸèƒ½ç ”ç©¶ä¸­çš„åº”ç”¨ã€‚

    2.  **ã€ŠNon-invasive optical spectroscopy and imaging of human brain functionã€‹**

        -   *ä½œè€…*ï¼šVillringer, A., & Chance, B. (1997)
        -   *æ¥æº*ï¼šTrends in Neurosciences, 20(10), 435-442.
        -   *ç®€ä»‹*ï¼šè™½ç„¶è¦†ç›–æ•´ä¸ªfNIRSé¢†åŸŸï¼Œä½†å¯¹æ—©æœŸé¢‘åŸŸæŠ€æœ¯çš„ç†è®ºåŸºç¡€ï¼ˆå¦‚å…‰å­è¿ç§»ç†è®ºï¼‰æœ‰æ·±åˆ»è®ºè¿°ã€‚

    3.  **ã€ŠQuantitative determination of the absorption and scattering spectra of the human breast in vivo using frequency-domain near-infrared optical tomographyã€‹**

        -   *ä½œè€…*ï¼šChance, B., et al. (1998)
        -   *ç®€ä»‹*ï¼šå±•ç¤ºäº†é¢‘åŸŸæŠ€æœ¯å¦‚ä½•åˆ†ç¦»å¸æ”¶å’Œæ•£å°„ç³»æ•°ï¼Œå¯¹ç†è§£ç®—æ³•åŽŸç†å¾ˆæœ‰å¸®åŠ©ã€‚

    **æ ¸å¿ƒç†è®ºä¹¦ç±**

    4.  **ã€ŠHandbook of Optical Biomedical Diagnosticsã€‹**

        -   *ç¼–è€…*ï¼šValery V. Tuchin
        -   *ç« èŠ‚*ï¼šç¬¬7ç«  "Frequency-Domain Optical Tomography" è¯¦ç»†è®²è§£äº†é¢‘åŸŸæµ‹é‡ç³»ç»Ÿçš„ç¡¬ä»¶è®¾è®¡ä¸Žæ•°å­¦æ¨¡åž‹ã€‚

    5.  **ã€ŠNear-Infrared Spectroscopy: Theory, Spectral Analysis, Instrumentation, and Applicationsã€‹**

        -   *ä½œè€…*ï¼šYukihiro Ozaki (å°¾å´Žå¹¸æ´‹) ç­‰
        -   *ç®€ä»‹*ï¼šæ¶µç›–äº†é¢‘åŸŸfNIRSçš„ç†è®ºåŸºç¡€ï¼Œç‰¹åˆ«æ˜¯å…³äºŽç›¸ç§»æµ‹é‡ä¸Žä¿®æ­£æ¯”å°”-æœ—ä¼¯å®šå¾‹çš„éƒ¨åˆ†ã€‚

    **å¼€æºç¡¬ä»¶ä¸Žè½¯ä»¶é¡¹ç›®**

    6.  **å¼€æºé¡¹ç›®ï¼šISS Imagent (ç›¸å…³ç®—æ³•åº“)**

        -   *ç®€ä»‹*ï¼šISSå…¬å¸æ˜¯é¢‘åŸŸfNIRSè®¾å¤‡çš„å¸‚åœºé¢†å¯¼è€…ã€‚è™½ç„¶æ²¡æœ‰å®Œå…¨å¼€æºçš„ç¡¬ä»¶ï¼Œä½†å…¶éƒ¨åˆ†æ•°æ®å¤„ç†ç®—æ³•å·²åœ¨å­¦æœ¯ç¤¾åŒºå…±äº«ã€‚å¯ä»¥æœç´¢ "ISS Imagent processing algorithms" æŸ¥æ‰¾ç›¸å…³Matlab/Pythonä»£ç ã€‚

    7.  **GitHubé¡¹ç›®ï¼š** æœç´¢å…³é”®è¯ "**Frequency-domain fNIRS**" æˆ– "**FD-NIRS**"

        -   *æŽ¨èä»“åº“*ï¼š
            -   **"NIRS-brain"**ï¼šåŸºäºŽMatlabçš„fNIRSæ•°æ®åˆ†æžåŒ…ï¼Œæ”¯æŒé¢‘åŸŸæ•°æ®å¤„ç†ã€‚
            -   **"Homer3"**ï¼šæœ€è‘—åçš„fNIRSåˆ†æžå·¥å…·ç®±ï¼ˆåŸºäºŽMatlabï¼‰ï¼Œå…¶æ ¸å¿ƒå‡½æ•°ï¼ˆå¦‚`hmR_Intensity2OD`ï¼‰å¯ç”¨äºŽå¤„ç†é¢‘åŸŸæ•°æ®ï¼Œè®¡ç®—å¸æ”¶å’Œæ•£å°„ç³»æ•°ã€‚
            -   **"PyNIRS"**ï¼šPythonç‰ˆæœ¬çš„fNIRSå·¥å…·ç®±ï¼ŒåŒ…å«é¢‘åŸŸæ•°æ®å¤„ç†æ¨¡å—ã€‚

    8.  **ç¡¬ä»¶è®¾è®¡å‚è€ƒï¼š**

        -   *è®ºæ–‡*ï¼š"A low-cost, frequency-domain, near-infrared spectroscopy system" æœç´¢æ­¤ç±»è®ºæ–‡å¯æ‰¾åˆ°ä¸€äº›é«˜æ ¡è®¾è®¡çš„å¼€æºç¡¬ä»¶æ–¹æ¡ˆï¼ˆé€šå¸¸åŸºäºŽFPGAæˆ–é”ç›¸æ”¾å¤§å™¨ï¼‰ã€‚

    **å‰æ²¿ç ”ç©¶å›¢é˜Ÿä¸Žå®žéªŒå®¤**

    9.  **Sergio Fantini å®žéªŒå®¤ (å¡”å¤«èŒ¨å¤§å­¦)**

        -   *ç®€ä»‹*ï¼šé¢‘åŸŸfNIRSé¢†åŸŸçš„æƒå¨ä¹‹ä¸€ï¼Œä¸“æ³¨äºŽå®šé‡å…‰å­¦æˆåƒå’Œè„‘æ°§ä»£è°¢ç›‘æµ‹ã€‚å…¶ç½‘ç«™é€šå¸¸æœ‰å…¬å¼€çš„ç®—æ³•å’Œæ•°æ®é›†ã€‚

    10. **Arjun Yodh å®žéªŒå®¤ (å®¾å¤•æ³•å°¼äºšå¤§å­¦)**

        -   *ç®€ä»‹*ï¼šä¸“æ³¨äºŽæ‰©æ•£å…‰å­¦æˆåƒï¼ˆåŒ…æ‹¬é¢‘åŸŸå’Œæ—¶åŸŸï¼‰ï¼Œåœ¨ç”Ÿç‰©åŒ»å­¦å…‰å­¦é¡¶åˆŠå‘è¡¨å¤§é‡é«˜è¢«å¼•è®ºæ–‡ã€‚

    11. **Maria Angela Franceschini å®žéªŒå®¤ (éº»çœæ€»åŒ»é™¢)**

        -   *ç®€ä»‹*ï¼šå¼€å‘äº†å…ˆè¿›çš„fNIRSæŠ€æœ¯ï¼ˆåŒ…æ‹¬é¢‘åŸŸç³»ç»Ÿï¼‰ç”¨äºŽä¸´åºŠè„‘ç›‘æµ‹ã€‚

    **ä¸­å›½å­¦è€…ä¸Žä¸­æ–‡èµ„æº**

    12. **å›½å†…å›¢é˜Ÿï¼š**

        -   **å¤©æ´¥å¤§å­¦ é«˜å³°æ•™æŽˆå›¢é˜Ÿ**ï¼šåœ¨æ‰©æ•£å…‰å­¦å±‚æžæˆåƒï¼ˆåŒ…æ‹¬é¢‘åŸŸæ–¹æ³•ï¼‰æ–¹é¢æœ‰æ·±å…¥ç ”ç©¶ï¼Œå‘è¡¨å¤šç¯‡ç†è®ºæŽ¨å¯¼å’Œç³»ç»Ÿæ­å»ºçš„è®ºæ–‡ã€‚
        -   **åŽä¸­ç§‘æŠ€å¤§å­¦ éª†æ¸…é“­é™¢å£«å›¢é˜Ÿ**ï¼šè™½ç„¶æ›´çŸ¥åäºŽæ˜¾å¾®æˆåƒï¼Œä½†å…¶åœ¨è¿‘çº¢å¤–å…‰è°±ä¸Žè„‘åŠŸèƒ½ç ”ç©¶æ–¹é¢ä¹Ÿæœ‰æ¶‰åŠé¢‘åŸŸæŠ€æœ¯çš„è®ºæ–‡ã€‚

    13. **ä¸­æ–‡ç»¼è¿°ï¼š**

        -   *è®ºæ–‡*ï¼šã€Šé¢‘åŸŸè¿‘çº¢å¤–å…‰è°±æŠ€æœ¯ç”¨äºŽè„‘åŠŸèƒ½æˆåƒçš„ç ”ç©¶è¿›å±•ã€‹ï¼ˆå¯åœ¨çŸ¥ç½‘æˆ–ä¸‡æ–¹æ•°æ®æœç´¢ï¼‰ï¼Œé€‚åˆå¿«é€Ÿäº†è§£ä¸­æ–‡æœ¯è¯­å’ŒæŠ€æœ¯æ¡†æž¶ã€‚

    **å®žç”¨å»ºè®®ï¼šå¦‚ä½•å…¥æ‰‹**

    -   **ç¬¬ä¸€æ­¥**ï¼šå…ˆè¯» **Fantini 2006** çš„ç»¼è¿°ï¼Œæžæ‡‚â€œç›¸ç§»â€å’Œâ€œè°ƒåˆ¶é¢‘çŽ‡â€çš„æ ¸å¿ƒæ¦‚å¿µã€‚
    -   **ç¬¬äºŒæ­¥**ï¼šä¸‹è½½ **Homer3**ï¼Œè¿è¡Œå…¶ç¤ºä¾‹æ•°æ®ï¼ˆå¦‚æžœæœ‰é¢‘åŸŸæ•°æ®demoï¼‰ï¼Œè§‚å¯Ÿå¦‚ä½•ä»ŽåŽŸå§‹ç›¸ä½å’Œå¼ºåº¦æ•°æ®è®¡ç®—å‡ºHbO/HbRã€‚
    -   **ç¬¬ä¸‰æ­¥**ï¼šæœç´¢ "**calibration of frequency-domain NIRS**"ï¼ˆé¢‘åŸŸfNIRSçš„æ ¡å‡†ï¼‰ï¼Œå› ä¸ºé¢‘åŸŸç³»ç»Ÿå¯¹ç›¸ä½æ ¡å‡†è¦æ±‚æžé«˜ï¼Œè¿™æ˜¯å®žé™…æ­å»ºæˆ–ä½¿ç”¨è®¾å¤‡çš„å…³é”®ã€‚

    å¦‚æžœä½ éœ€è¦æŸ¥æ‰¾ç‰¹å®šæ–¹å‘çš„è®ºæ–‡ï¼ˆä¾‹å¦‚ï¼šç»“åˆEEGçš„é¢‘åŸŸfNIRSï¼Œæˆ–ç”¨äºŽå©´å„¿ç›‘æµ‹çš„é¢‘åŸŸè®¾å¤‡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ **PubMed** æˆ– **Google Scholar**ï¼Œé…åˆå…³é”®è¯ï¼š"frequency-domain NIRS" AND "brain" AND "ç‰¹å®šä¸»é¢˜"ã€‚
