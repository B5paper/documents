* MATLAB 函数跳转

    * Ctrl + 点击函数名

        有时候会失效，不清楚原因

    * 光标移动到函数名上，ctrl + D

    * 右键点击函数名 -> 选择 "打开函数名" 或 "转至定义"

    * F12 - 跳转到定义, Ctrl + F12 - 返回（跳回原位置）

    * `Ctrl` + `=`: 跳转到定义, `Ctrl` + `-`: 返回

    * 使用命令

        ```matlab
        open functionName  % 在当前编辑器打开
        edit functionName  % 在编辑器中打开
        type functionName  % 在命令窗口显示
        ```

    注意事项：

    * 函数必须在MATLAB路径中才能跳转

    * 对于内置函数，会打开MATLAB文档

    * 匿名函数和局部函数也可以跳转

    * 可以跳转到类方法、属性等

* matlab `split()`

    将字符串数组（String Array）或字符向量（Character Vector）按分隔符拆分为多个子串（字符串列向量）。

    syntax:

    ```matlab
    % 默认拆分：按空白字符（空格、换行、制表符）进行拆分。
    newStr = split(str)

    % 指定分隔符：按照你定义的 delimiter（如逗号、分号或特定单词）拆分。
    newStr = split(str, delimiter)

    % 多重分隔符：同时匹配多个不同的分隔符进行拆分。
    newStr = split(str, [d1, d2])
    ```

    example:

    * 默认按空格拆分

        ```matlab
        str = "MATLAB is a powerful tool";
        words = split(str)
        % 输出:
        % "MATLAB"
        % "is"
        % "a"
        % "powerful"
        % "tool"
        ```

    * 指定分隔符

        ```matlab
        str = "apple,banana,orange";
        fruits = split(str, ",")
        % 输出:
        % "apple"
        % "banana"
        % "orange"
        ```

    * 使用多个分隔符

        如果你有一串复杂的地址信息，包含多种符号：

        ```matlab
        str = "Red;Blue,Green";
        colors = split(str, [";", ","])
        % 输出:
        % "Red"
        % "Blue"
        % "Green"
        ```

    注意事项

    * 返回类型：无论输入是字符向量 '' 还是字符串 ""，split() 通常都会返回一个字符串数组。

    * 维度变化：如果输入是一个字符串矩阵（多行），split 会在第三维度上进行拆分。

    * 与 strsplit 的区别：strsplit 是较老版本中常用的函数，主要针对字符向量并返回元胞数组（Cell Array）；而 split 是为了配合现代 MATLAB 的 string 数据类型设计的，效率更高且用法更直观。

* Here Document

    Here Document（文档内嵌）是一种在 Shell 脚本中直接嵌入多行文本输入的方法，通常用于命令的标准输入。

    syntax:

    ```bash
    命令 << 分隔符
        多行文本内容
    分隔符
    ```

    分隔符的两种形式

    1. 不带引号的分隔符 - 会进行变量替换和命令替换

        ```bash
        cat << EOF
        当前用户：$USER
        当前目录：$(pwd)
        EOF
        ```

    2. 带引号的分隔符 - 禁用变量和命令替换

        ```bash
        cat << 'EOF'
        当前用户：$USER  # 不会被替换
        当前目录：$(pwd)  # 不会被替换
        EOF
        ```

        (双引号的`"EOF"`可以吗？)

    常见用法示例

    1. 远程执行命令

        ```bash
        ssh user@hostname << 'EOF'
        cd /path/to/dir
        ./script.sh
        echo "任务完成"
        EOF
        ```

    2. 创建配置文件

        ```bash
        cat > /etc/config.conf << EOF
        server_ip=192.168.1.100
        port=8080
        timeout=30
        EOF
        ```

        注：

        1. 重定向`> /etc/config.conf`可以写到命令和参数的中间，记一下这个用法。

    3. 传递复杂命令参数

        ```bash
        mysql -u root -p << EOF
        USE database;
        SELECT * FROM users;
        EXIT;
        EOF
        ```

    4. 使用变量（不转义）

        ```bash
        name="Alice"
        cat << EOF
        Hello $name,
        Welcome to the system.
        EOF
        ```

    高级用法

    * 缩进 Here Document（使用 <<-）
    
        ```bash
        if true; then
            cat <<- EOF
            This line is indented.
            This too.
            EOF
        fi
        ```

        `<<-`允许每行的前面有制表符，在转换为文档时，会删除每行开头的制表符(Tab)。而`<<`会保持原样缩进。

        对于结束标记，`<<`要求必须顶格写，前后无空格。`<<-`则允许`EOF`前面有制表符。

        `<<-`的主要用途是在脚本中保持代码结构美观。

        注意：

        * `<<-`只删除制表符(Tab)，不删除空格，对每行开头的空格无效。

        * `<<-`只删除每行开头的连续制表符。
        
            这意味着如果制表符在空格后面，那么不会被删除。

    * 重定向到文件

        ```bash
        exec > output.log << EOF
        日志开始
        $(date)
        操作完成
        EOF
        ```

    注意事项

    * 分隔符可以是任意字符串，常见的有 EOF、END、STOP 等

    * 结束分隔符必须单独一行，前后不能有空格（除非使用 <<-）

    * 通常与 cat、ssh、mysql、ftp 等需要多行输入的命令配合使用

    * 使用 'EOF' 可以避免脚本中的特殊字符被解释

    这样可以使脚本更清晰，避免使用多个 echo 命令输出多行内容。

* 家用晶圆厂

    * 多项目晶圆（MPW）服务

        这是个人接触先进制程的唯一现实途径。你可以学习使用开源EDA工具（如OpenROAD, SkyWater PDK）设计芯片，然后将设计文件提交给谷歌的SkyWater计划或国内的类似MPW服务。

    * Sam Zeloof, Jeri Ellsworth

    * 手套箱（Glove Box）, 隔离器（Isolator）

    * 带有双门互锁和净化吹淋功能的传递舱

    * 一个集成了加热台、简易滴胶、紫外曝光（用掩膜版）和显影的桌面光刻系统。这已经有商业化的教育产品（如EMO等）。

    * MEMS结构（如悬臂梁）

* matlab 匿名函数

    主要用于创建简单的单行函数。

    基本语法

    ```matlab
    函数句柄 = @(输入参数) 表达式
    ```

    **特点**

    * 无需函数文件：直接在工作空间或脚本中定义

    * 单表达式：通常只包含一个表达式（复杂逻辑需用括号组合）

    * 无函数名：通过函数句柄调用

    * 可捕获变量：可以访问定义时的局部变量

    **示例**

    * 基础示例

        ```matlab
        % 平方函数
        square = @(x) x^2;
        result = square(5);  % 返回 25

        % 多参数函数
        add = @(a, b) a + b;
        sum = add(3, 4);  % 返回 7

        % 无参数函数
        getPi = @() pi;
        value = getPi();  % 返回 3.1416
        ```

    * 数组操作

        ```matlab
        % 向量化操作
        scaleVector = @(v, factor) v * factor;
        scaled = scaleVector([1, 2, 3], 2);  % 返回 [2, 4, 6]

        % 元素级操作
        cube = @(x) x.^3;  % 注意使用 .^ 进行元素级运算
        ```

    * 在函数中使用

        ```matlab
        % 作为其他函数的参数
        data = [1, 2, 3, 4, 5];
        squared = arrayfun(@(x) x^2, data);  % 对每个元素平方

        % 在积分函数中使用
        f = @(x) sin(x).^2;
        integral(f, 0, pi)  % 计算积分
        ```

    * 捕获工作空间变量

        ```matlab
        a = 10;
        b = 5;
        linearFunc = @(x) a*x + b;  % 捕获 a 和 b
        result = linearFunc(2);  % 10*2 + 5 = 25
        ```

    **高级用法**

    * 多行匿名函数（需要显式返回）
    
        ```matlab
        % 使用括号和逗号分隔多个表达式
        complexFunc = @(x) ( ...
            y = x^2;       ...
            z = y + 10;    ...
            z);            % 最后一条表达式作为返回值

        result = complexFunc(3);  % 3^2 + 10 = 19
        ```

    * 函数组合

        ```matlab
        f = @(x) x^2;
        g = @(x) x + 1;
        compose = @(x) f(g(x));  % 组合函数 (x+1)^2
        ```

    * 返回多个值

        可以通过返回数组或结构体实现。

        ```matlab
        % 返回数组
        getMinMax = @(x) [min(x), max(x)];
        result = getMinMax([1, 5, 3, 8, 2]);  % 返回 [1, 8]
        [minVal, maxVal] = deal(result(1), result(2));

        % 返回元胞数组
        getStats = @(x) {mean(x), std(x), length(x)};
        stats = getStats([1:10]);
        [avg, stdev, n] = deal(stats{:});

        % 返回结构体
        getInfo = @(x) struct('sum', sum(x), 'product', prod(x));
        info = getInfo([2, 3, 4]);
        info.sum      % 9
        info.product  % 24
        ```

    **注意事项**

    * 性能：对于简单操作，匿名函数通常比普通函数更快

    * 调试：匿名函数较难调试，复杂逻辑建议使用普通函数

    * 作用域：匿名函数会捕获定义时的变量快照

    * 内存：函数句柄是变量，会占用工作空间内存

    **实际应用场景**

    * 快速测试简单数学表达式

    * 作为回调函数传递给其他函数

    * 在 GUI 中定义事件处理函数

    * 函数式编程中的临时函数

    * 优化和数值计算中的目标函数

* MATLAB 字符串

    一、字符串类型

    1. 字符数组（传统）

    ```matlab
    str1 = 'Hello World';  % 单引号，字符数组
    str2 = ['Hello' ' World'];  % 拼接
    ```

    2. 字符串数组（R2016b+）

    ```matlab
    str3 = "Hello World";  % 双引号，字符串类型
    str_array = ["apple", "banana", "cherry"];  % 字符串数组
    ```

    example:

    ```matlab
    >> a = 'hello, world'

    a =

        'hello, world'

    >> class(a)

    ans =

        'char'

    >> b = "hello, world"

    b = 

        "hello, world"

    >> class(b)

    ans =

        'string'
    ```

    二、基本操作

    1. 创建与拼接

        ```matlab
        % 拼接
        str = strcat('Hello', ' ', 'World');
        str = ['Hello' ' ' 'World'];  % 水平拼接
        str = "Hello" + " " + "World";  % R2016b+

        % 格式化
        str = sprintf('Value: %.2f', 3.14159);  % Value: 3.14
        ```

    2. 索引与访问

        ```matlab
        str = 'MATLAB Programming';
        first_char = str(1);      % 'M'
        first_word = str(1:6);    % 'MATLAB'
        last_char = str(end);     % 'g'
        ```

    三、常用字符串函数

    1. 查找与替换

        ```matlab
        str = 'The quick brown fox';

        % 查找
        idx = strfind(str, 'quick');  % 返回起始位置
        idx = contains(str, 'fox');    % 返回逻辑值

        % 替换
        new_str = strrep(str, 'brown', 'red');

        % 正则表达式
        tokens = regexp(str, '(\w+)\s(\w+)', 'tokens');
        ```

    2. 分割与连接

        ```matlab
        % 分割
        parts = strsplit('a,b,c,d', ',');  % {'a','b','c','d'}

        % 连接
        str = strjoin({'a','b','c'}, '-');  % 'a-b-c'

        % 按行分割
        lines = splitlines("Line1\nLine2");
        ```

    3. 转换与比较

        ```matlab
        % 大小写转换
        upper_str = upper('hello');  % 'HELLO'
        lower_str = lower('HELLO');  % 'hello'

        % 类型转换
        num_str = num2str(123);      % '123'
        str_num = str2double('123'); % 123

        % 比较
        is_equal = strcmp('text1', 'text2');      % 严格比较
        is_similar = strcmpi('HELLO', 'hello');   % 忽略大小写
        ```

    四、字符串数组操作

    1. 批量处理

        ```matlab
        % 创建字符串数组
        files = ["data1.csv", "data2.csv", "log.txt"];

        % 批量判断
        is_csv = endsWith(files, ".csv");  % [true, true, false]

        % 批量提取
        names = extractBefore(files, ".");  % ["data1", "data2", "log"]
        ```

    2. 模式匹配

        ```matlab
        str = ["test_001.mat", "data_002.csv", "log.txt"];

        % 提取数字部分
        nums = extract(str, digitsPattern);  % ["001", "002", ""]

        % 匹配特定模式
        matches = contains(str, ["test", "data"]);  % [true, true, false]
        ```

    五、实用技巧

    1. 多行字符串

        ```matlab
        % 使用双引号（R2017a+）
        multi_str = "First line" + newline + "Second line";

        % 使用字符数组
        multi_str = sprintf('Line 1\nLine 2\nLine 3');
        ```

    2. 路径操作

        ```matlab
        % 构建路径
        full_path = fullfile('folder', 'subfolder', 'file.txt');

        % 提取部分
        [filepath, name, ext] = fileparts('/path/to/file.txt');
        ```

    3. 性能优化

        ```matlab
        % 避免在循环中拼接（慢）
        result = '';
        for i = 1:1000
            result = [result num2str(i)];  % 每次重新分配内存
        end

        % 使用字符串数组或 cell（快）
        strs = strings(1000, 1);
        for i = 1:1000
            strs(i) = string(i);
        end
        result = strjoin(strs, '');
        ```

    六、重要注意事项

    * 字符数组 vs 字符串类型

        * 字符数组：'text'，适用于单个字符串

        * 字符串类型："text"，支持数组操作和 Unicode

    * 空字符串的不同表示

        ```matlab
        empty_char = '';      % 字符数组
        empty_str = "";       % 字符串类型
        missing_str = missing; % 缺失值
        ```

    * 中文字符处理

        ```matlab
        str = '中文测试';  % 正确
        length(str)        % 返回字符数，不是字节数
        ```

    MATLAB 字符串功能强大，建议在 R2016b 及以上版本中使用字符串类型（双引号），它提供了更现代、更安全的API，并支持向量化操作。
