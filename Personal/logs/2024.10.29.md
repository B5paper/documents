* ubuntu 24.04 无法直接安装`libpocl-dev`，可能是 gcc 的版本比较高，而`libpocl-dev`需要比较低的 gcc 版本

* ssh 反向代理

    * 下面这三条命令等价
    
        * `ssh -R 8822:127.0.0.1:8822 <user>@<host_addr>`

        * `ssh -R *:8822:127.0.0.1:8822 <user>@<host_addr>`

        * `ssh -R 0.0.0.0:8822:127.0.0.1:8822 <user>@<host_addr>｀

        这三条命令都是从远程 host 的任意地址的 8822 端口向本地的 127.0.0.1 的 8822 端口开一条 tunnel。

        如果在登陆时有提示：

        ```
        SIOCSIFADDR: Operation not permitted
        SIOCSIFFLAGS: Operation not permitted
        SIOCSIFNETMASK: Operation not permitted
        SIOCADDRT: Operation not permitted
        ```

        这些提示不影响反射代理的功能。

        如果`/etc/ssh/sshd_config`文件中的`GatewayPorts yes`没有打开，那么只能转发远程 host 的`127.0.0.1`的 8822 端口，无法 bind 其他地址。

    * 如果使用`-R`转发远程机器的端口，那么其他的远程机器也可以使用这个端口完成和外界的通信。

        比如现在有 host A, B, C 三台机器，先用 A 连接 B：

        host A: `ssh -R 8822:127.0.0.1:8822 <user>@<host_B_addr>`

        此时访问 B 任意 ipv4 的 8822 端口，都会被转发到 A 的 127.0.0.1:8822 端口。

        我们在 host A 上起一个 tcp server: `nc -l 8822`

        然后在 host C 上执行`nc <host_B_addr> 8822`，即可成功连接到 host A 上的 tcp server。输入 message 并按回车，可以看到 host A 上的回显。

* docker 中的 container 代理其实是在 container 中设置环境变量

    `/home/hlc/.docker/config.json`中的代理配置本质上是在 container 内设置`http_proxy`，`https_proxy`，`HTTP_PROXY`, `HTTPS_PROXY`, `NO_PROXY`等这几个环境变量。

    ref: <https://docs.docker.com/engine/cli/proxy/>

    container 内部的网络可以和 host 互相 ping 通，container 也可以直接访问到外网。

* docker daemon 设置代理后，在 pull image 时如果有 TLS handshake timeout，很可能是因为代理无法访问境外网站。

* ubuntu 给用户设置短密码

    `sudo passwd <username>`

* cached tabs

    * How to Use Your GPU in a Docker Container

        <https://blog.roboflow.com/use-the-gpu-in-docker/>

    * Enable GPU access with Docker Compose

        <https://docs.docker.com/compose/how-tos/gpu-support/>

* docker build 时添加代理的两种方式

    * 直接在命令里加

        `docker build --build-arg http_proxy=http://10.239.4.80:913 --build-arg https_proxy=http://10.239.4.80:913 .`

    * 在 dockerfile 的 ENV 里加

        `ENV http_proxy 10.239.4.80:913`

        不太推荐这种，因为同一个 dockerfile 可能会被复制到不同的机器上运行，其他的机器上不一定有当前的代理环境。