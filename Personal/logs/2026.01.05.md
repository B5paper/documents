* log 进步

    假如 x 轴是努力程度，y 轴是取得的成就，总是感觉 y 是 x 的对数函数。即使在学校的时候成绩参差不齐，到后面大家的工资却又差不多。我们的成就总是以对数的增速向前。

* matlab 尝试不打开窗口

    `matlab -nodesktop`会启动一个 command line window

    `matlab -nodisplay`无效，仍会启动 matlab 整体。

    * `matlab -batch "disp('Hello World')"`

        有效。直接在 terminal 里输出

        ```
        Hello World
        ```

    * `matlab -batch "your_script"`: 未测试

    * `matlab -r "run('myscript.m')"`: 未测试

    * `matlab -nodisplay -nosplash -r "myscript; exit"`: 未测试

    * Jupyter Notebook 支持

        通过 imatlab 内核在 Jupyter 中使用：

        ```bash
        pip install imatlab
        python -m imatlab install
        ```

        未测试

    * MATLAB Engine API

        未测试

        从 Python 调用 MATLAB：

        ```python
        import matlab.engine
        eng = matlab.engine.start_matlab()
        result = eng.sqrt(4.0)
        ```

        常用参数说明：

        * -nodesktop：无桌面界面

        * -nodisplay：无图形显示

        * -nosplash：不显示启动画面

        * -batch "command"：执行命令后退出

        * -r "command"：执行命令（旧版方式）

* ATLAB Engine API

    安装步骤：

    1. 确保 MATLAB 已安装

        首先确认你的系统已经安装了 MATLAB。

    2. 找到 MATLAB 的安装位置

        ```bash
        # Linux/Mac
        which matlab

        # Windows
        where matlab
        ```

    3. 从 MATLAB 安装 Python 引擎

        * 方法 A：在 MATLAB 中安装

            启动 MATLAB，然后运行：

            ```matlab
            cd (fullfile(matlabroot,'extern','engines','python'))
            system('python setup.py install')
            ```

        * 方法 B：在命令行中安装

            ```bash
            # 切换到 MATLAB 的引擎目录
            cd "matlabroot/extern/engines/python"

            # 安装到当前 Python 环境
            python setup.py install

            # 或者安装到特定用户
            python setup.py install --user

            # 或者使用 pip
            pip install -e .
            ```

        * 方法 C：使用 pip 直接安装（推荐）

            ```bash

            # 找到 MATLAB 安装路径后
            cd "C:\Program Files\MATLAB\R2023a\extern\engines\python"
            python -m pip install .

            # 或指定具体版本
            python setup.py build --build-base="builddir" install
            ```

    4. 验证安装

        ```bash
        python -c "import matlab.engine; print('Success!')"
        ```

    5. 常见问题解决

        * 问题 1：Python 版本不匹配

            MATLAB Engine 需要与 MATLAB 兼容的 Python 版本。检查：

            ```matlab
            % 在 MATLAB 中查看支持的 Python 版本
            pyversion
            ```

        * 问题 2：权限问题

            ```bash
            # 使用管理员/root权限
            sudo python setup.py install

            # 或安装到用户目录
            python setup.py install --user
            ```

        * 问题 3：多个 Python 环境

            ```bash
            # 确认使用的是正确的 Python
            which python
            python --version

            # 使用绝对路径
            /usr/bin/python3 setup.py install

            # 或创建虚拟环境
            python -m venv matlab-env
            source matlab-env/bin/activate
            python setup.py install
            ```

        * 问题 4：Windows 特定问题

            ```cmd
            # 以管理员身份运行命令提示符
            cd "C:\Program Files\MATLAB\R2023a\extern\engines\python"
            python setup.py install

            # 如果系统有多个 Python，使用完整路径
            "C:\Python39\python.exe" setup.py install
            ```

    6. 快速测试

        安装成功后，测试基本功能：

        ```python
        import matlab.engine

        # 启动引擎
        eng = matlab.engine.start_matlab()

        # 执行 MATLAB 命令
        result = eng.sqrt(4.0)
        print(f"sqrt(4) = {result}")

        # 创建 MATLAB 数组
        a = matlab.double([1, 2, 3, 4, 5])
        print(f"MATLAB array: {a}")

        # 调用 MATLAB 函数
        b = eng.sum(a)
        print(f"sum: {b}")

        # 关闭引擎
        eng.quit()
        ```

    替代方案：

    ```py
    # 替代方案：通过子进程调用 MATLAB
    import subprocess
    import json

    # 创建 MATLAB 脚本
    script = """
    data = rand(3, 3);
    disp(jsonencode(data))
    """

    # 执行
    result = subprocess.run(['matlab', '-batch', script], 
                           capture_output=True, text=True)
    ```

    注意：MATLAB Engine API 需要 MATLAB 许可证，并且 MATLAB 版本和 Python 版本必须兼容。