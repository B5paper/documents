* `mfilename()`

    返回当前正在执行的 MATLAB 函数或脚本的文件名和路径信息。

    syntax:

    ```matlab
    function_name = mfilename('fullpath')
    function_name = mfilename()
    [name, path] = mfilename('fullpath')
    ```

    usage:

    * 无参数调用 - 返回当前文件名

        ```matlab
        % 在 myFunction.m 中调用
        name = mfilename();
        % 返回: 'myFunction' (不带扩展名 .m)
        ```

    * 'fullpath' 参数 - 返回完整路径

        ```matlab
        % 返回包含完整路径的文件名
        full_name = mfilename('fullpath');
        % 示例返回值: 'C:\Users\name\Documents\MATLAB\myScript.m'
        ```

    * 获取路径和文件名分离

        ```matlab
        % 方法1: 使用 fileparts
        [filepath, name, ext] = fileparts(mfilename('fullpath'));

        % 方法2: 直接分割
        full_name = mfilename('fullpath');
        [path_str, name_str, ext_str] = fileparts(full_name);
        ```

        注：

        1. 这两个方法不是一样的吗？

    examples:

    * 获取当前脚本所在目录

        ```matlab
        % 获取当前.m文件所在目录，用于相对路径操作
        current_folder = fileparts(mfilename('fullpath'));
        data_file = fullfile(current_folder, 'data', 'input.csv');
        ```

    重要特性

    * 在命令窗口调用：返回空字符串 `''`

    * 在脚本中调用：返回脚本文件名

    * 在函数中调用：返回函数文件名

    * 嵌套调用时：始终返回当前执行的文件名

    * 返回不带扩展名：mfilename() 不包含 .m 扩展名

    * mfilename() 在调试和部署时行为一致，适用于需要根据文件位置动态构建路径的应用场景。

    与相关函数的比较
    函数	返回值	特点
    mfilename()	当前文件名	不含路径和扩展名
    mfilename('fullpath')	完整路径+文件名	包含完整路径
    which(mfilename)	完整路径+文件名	与 mfilename('fullpath') 相似
    dbstack	调用栈信息	更详细的调用链信息

    * 实用技巧

        ```matlab
        % 获取当前文件所在目录的最佳实践
        current_file_path = mfilename('fullpath');
        [current_dir, ~, ~] = fileparts(current_file_path);

        % 添加当前目录到MATLAB路径（临时）
        addpath(current_dir);

        % 使用相对路径访问同级目录文件
        config_file = fullfile(current_dir, 'config', 'settings.json');
        ```

* `fileparts()`

    将完整的文件名或路径分解为路径、文件名和扩展名三个部分，便于单独处理各个组件。

    syntax:

    ```matlab
    [pathstr, name, ext] = fileparts(filename)
    [pathstr, name, ext] = fileparts(filename, 'PeriodicExtension', value)
    ```

    可选参数

    * 'PeriodicExtension', value：控制如何处理周期性扩展名（如 .tar.gz）

        * true（默认）：将 .tar.gz 视为一个扩展名

        * false：只取最后一个扩展名（.gz）

    usage:

    * 基本分解

        ```matlab
        % 分解完整路径
        [pathstr, name, ext] = fileparts('C:\Users\John\Documents\report.pdf');

        % 结果:
        % pathstr = 'C:\Users\John\Documents'
        % name = 'report'
        % ext = '.pdf'
        ```

    * 分解相对路径

        ```matlab
        [pathstr, name, ext] = fileparts('../data/input.csv');

        % 结果:
        % pathstr = '../data'
        % name = 'input'
        % ext = '.csv'
        ```

    * 只获取特定部分

        ```matlab
        % 只需要路径部分
        path_only = fileparts('C:\project\src\main.m');

        % 只需要文件名（不含扩展名）
        [~, filename] = fileparts('data/experiment_results.xlsx');

        % 只需要扩展名
        [~, ~, extension] = fileparts('/home/user/image.jpg');
        ```

    examples:

    * 创建输出文件路径

        ```matlab
        % 基于输入文件生成输出文件路径
        input_file = 'C:\data\input\experiment_data.mat';
        [input_path, input_name, ~] = fileparts(input_file);

        % 创建输出文件路径
        output_dir = fullfile(input_path, 'output');
        output_file = fullfile(output_dir, [input_name '_processed.mat']);
        ```

    * 获取文件类型信息

        ```matlab
        % 根据扩展名分类文件
        files = {'report.pdf', 'data.xlsx', 'script.m', 'notes.txt'};

        for i = 1:length(files)
            [~, ~, ext] = fileparts(files{i});
            
            switch lower(ext)
                case {'.pdf'}
                    disp('PDF document');
                case {'.xlsx', '.xls'}
                    disp('Excel file');
                case {'.m'}
                    disp('MATLAB script');
                case {'.txt', '.csv'}
                    disp('Text file');
                otherwise
                    disp('Unknown file type');
            end
        end
        ```

    特殊情况和注意事项

    * 处理无扩展名的文件

        ```matlab
        [pathstr, name, ext] = fileparts('C:\files\README');
        % pathstr = 'C:\files'
        % name = 'README'
        % ext = ''  (空字符串)
        ```

    * 处理只有扩展名的文件

        ```matlab
        [pathstr, name, ext] = fileparts('.gitignore');
        % pathstr = ''
        % name = ''
        % ext = '.gitignore'
        ```

    * 处理文件夹路径

        ```matlab
        [pathstr, name, ext] = fileparts('C:\Users\John\Documents\');
        % pathstr = 'C:\Users\John'
        % name = 'Documents'
        % ext = ''
        ```

    * 处理网络路径

        ```matlab
        [pathstr, name, ext] = fileparts('\\server\share\file.txt');
        % pathstr = '\\server\share'
        % name = 'file'
        % ext = '.txt'
        ```

    常见错误处理

    * 常见错误处理

        ```matlab
        % 检查文件是否存在
        filename = 'somefile.dat';
        if isfile(filename)
            [pathstr, name, ext] = fileparts(filename);
        else
            error('文件不存在: %s', filename);
        end

        % 处理空输入
        filename = '';
        if ~isempty(filename)
            [pathstr, name, ext] = fileparts(filename);
        else
            % 处理空文件名的情况
        end
        ```

    扩展应用:

    ```matlab
    % 1. 构建新文件名
    [~, name, ~] = fileparts(original_file);
    timestamp = datestr(now, 'yyyymmdd_HHMMSS');
    new_file = sprintf('%s_%s%s', name, timestamp, '.mat');

    % 2. 提取路径层次
    full_path = 'C:\a\b\c\d\file.txt';
    parts = strsplit(fileparts(full_path), filesep);
    % parts = {'C:', 'a', 'b', 'c', 'd'}

    % 3. 获取父目录
    full_path = 'C:\project\src\utils\helper.m';
    parent_dir = fileparts(fileparts(full_path));
    % parent_dir = 'C:\project\src'
    ```

* `fullfile()`

    用于构建完整文件路径的函数，它能自动处理不同操作系统之间的路径分隔符差异。

    比较像 python 中的`os.path.join()`。

    syntax:

    ```matlab
    fullpath = fullfile(filepart1, filepart2, ..., filepartN)
    ```

    usage:

    ```matlab
    % 基本路径拼接
    folder = 'C:\Users';
    subfolder = 'Documents';
    filename = 'data.txt';

    % 自动处理分隔符
    fullpath = fullfile(folder, subfolder, filename)
    % 输出（在Windows上）: 'C:\Users\Documents\data.txt'
    % 输出（在Linux/macOS上）: 'C:/Users/Documents/data.txt'

    % 拼接多个部分
    path1 = 'home';
    path2 = 'user';
    path3 = 'projects';
    path4 = 'code';
    path5 = 'main.m';

    result = fullfile(path1, path2, path3, path4, path5)
    % 输出: 'home/user/projects/code/main.m' (Linux/macOS)
    ```

    examples:

    ```matlab
    %% 示例1：构建文件路径
    data_dir = 'data';
    year = '2024';
    month = '03';
    filename = 'experiment.csv';

    filepath = fullfile(data_dir, year, month, filename)
    % 输出: 'data/2024/03/experiment.csv'

    %% 示例2：与 dir、ls 等函数配合使用
    folder = 'images';
    files = dir(fullfile(folder, '*.png'));  % 查找 images 文件夹下所有 PNG 文件

    %% 示例3：创建新目录
    new_dir = fullfile('results', 'analysis', 'plots');
    mkdir(new_dir);  % 创建 results/analysis/plots 目录

    %% 示例4：保存文件
    output_dir = 'output';
    output_file = 'results.mat';
    save(fullfile(output_dir, output_file), 'data');

    %% 示例5：处理绝对路径和相对路径
    root = '/home/user';
    relative_path = 'docs/report.txt';
    abs_path = fullfile(root, relative_path)
    % 输出: '/home/user/docs/report.txt'

    %% 示例6：单元格数组输入
    parts = {'usr', 'local', 'bin', 'matlab'};
    path_cell = fullfile(parts{:})
    % 输出: 'usr/local/bin/matlab'
    ```

    注意事项

    * 不会验证路径是否存在：fullfile() 只负责构建路径字符串，不检查路径是否真实存在

    * 不解析相对路径：不会将 .. 或 . 解析为上级目录或当前目录

    * 与 fileparts() 互补：fileparts() 用于拆分路径，fullfile() 用于合并路径

    * 输入可以是字符串、字符向量或字符串数组