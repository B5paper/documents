# Hardware Note

数字电路相关，MCU 相关，传感器相关，电机相关。

## cache

* 8259A

    8259A是一款可编程中断控制器。

    主要功能：

    * 中断请求的接收与优先级裁决

        * 8259A 拥有 8 条中断请求输入线（IRQ0-IRQ7），可以连接多个外部设备（如键盘、鼠标、定时器、硬盘控制器等）。

        * 当多个设备同时发出中断请求时，8259A 会根据预先设定的优先级规则（默认IRQ0最高，IRQ7最低）进行裁决，选出当前最重要的请求上报给CPU。

    * 向CPU发送中断信号

        * 裁决出最高优先级的中断后，8259A 会通过INT（Interrupt Request）引脚向CPU发出中断信号。

        * CPU响应后，会通过 INTA（Interrupt Acknowledge）引脚回送应答信号。

    * 提供中断类型码（中断向量）

        * 这是 8259A 最关键的功能之一。在 CPU 响应中断并查询中断来源时，8259A 会向数据总线提供一个8位的中断类型码。

        * CPU 根据这个号码，在中断向量表中找到对应中断服务程序的入口地址，从而跳转到正确的程序去执行。这意味着硬件中断源与软件处理程序通过8259A关联了起来。

    * 中断的屏蔽与管理

        * 可以通过编程设置中断屏蔽寄存器（IMR），单独允许或禁止（屏蔽）某个IRQ引脚上的中断请求，提供了灵活的中断管理能力。

        * 支持多种中断触发模式（如边沿触发、电平触发）和优先级循环模式等。

    * 级联扩展

        * 一片 8259A 只能管理 8 级中断。通过将多片 8259A 进行主从级联，可以扩展中断数量。例如，在 IBM PC/AT 中，使用一片主 8259A 和一片从 8259A，共同管理了 15 个硬件中断（IRQ0-IRQ15）。

## topics